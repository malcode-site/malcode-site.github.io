<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>MalCoder</title>
  
  <subtitle>stay hungry, stay foolish</subtitle>
  <link href="https://malcode-site.github.io/atom.xml" rel="self"/>
  
  <link href="https://malcode-site.github.io/"/>
  <updated>2024-08-26T07:27:11.034Z</updated>
  <id>https://malcode-site.github.io/</id>
  
  <author>
    <name>Malred</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>nextjs入门 - v13</title>
    <link href="https://malcode-site.github.io/2024/08/25/nextjs-beginner/zh-cn/"/>
    <id>https://malcode-site.github.io/2024/08/25/nextjs-beginner/zh-cn/</id>
    <published>2024-08-25T10:35:48.000Z</published>
    <updated>2024-08-26T07:27:11.034Z</updated>
    
    <content type="html"><![CDATA[<h1 id="什么是nextjs"><a href="#什么是nextjs" class="headerlink" title="什么是nextjs"></a>什么是nextjs</h1><p>nextjs是一款基于react的全栈SSR框架，提供一系列自动配置react的工具，让我们可以专注于构建应用，简化配置流程</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="nextjs" href="https://nextjs.org/docs" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">nextjs</span><span class="cap link footnote">https://nextjs.org/docs</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/354113/nextjs-icon.svg"></div></div></a></div><h1 id="什么是SSR（服务端渲染）"><a href="#什么是SSR（服务端渲染）" class="headerlink" title="什么是SSR（服务端渲染）"></a>什么是SSR（服务端渲染）</h1><h2 id="SPA"><a href="#SPA" class="headerlink" title="SPA"></a>SPA</h2><p>说到服务端渲染，就要提到<em>SPA（单页面应用程序）</em>，单页面应用程序的例子就是React和Vue，他们是通过将js下载到客户端运行，<br>进行编译、构建，然后创建出js虚拟DOM对象，再一次性挂载到index.html上，由于只是挂载到单个html上，比如：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825192010.png" alt="SPA程序提供一个index.html文件，然后里面有一个指定了id的div标签" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">SPA程序提供一个index.html文件，然后里面有一个指定了id的div标签</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825192157.png" alt="然后在SPA的入口js中，将程序渲染并挂载到指定的div上" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">然后在SPA的入口js中，将程序渲染并挂载到指定的div上</span></div></div><p>其他修改都是基于它来进行，所以是单页面应用程序。<br>并且，SPA程序会将进行渲染和逻辑处理的js文件放在客户端，渲染的工作是交给客户端进行所以也叫CSR（客户端渲染）程序</p><p>而服务端渲染则是由服务器将HTML文件渲染后交给客户端的，根据不同请求返回对应的html文件。</p><h2 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h2><ul><li><strong>性能</strong><br>CSR将渲染的任务交给客户端，对于性能不好的设备来说，将会变得卡顿，但是相对的，减轻了服务器的负担。而SSR则相反，<br>在请求高峰期需要处理大量请求，这将会是巨大的压力，但是可以减轻客户端的压力</li><li><strong>SEO友好性</strong><br>客户端渲染在渲染前是很难获取到网页具体信息的，对于SEO来说并不友好，而服务端渲染则可以将渲染好的文件交给搜索引擎爬虫，<br>此时页面内容基本完整，利于引擎算法进行分析识别</li><li><strong>首次加载时间</strong><br>CSR需要将js下载到客户端进行渲染，所以在js下载到客户端之前有可能遭遇到一段时间的页面空白（首屏渲染问题）<br>而SSR在服务端先渲染好HTML，省去了这个步骤，并且减少了客户端压力，所以可以更快地向用户展示内容</li></ul><h1 id="Setup-Nextjs-Project"><a href="#Setup-Nextjs-Project" class="headerlink" title="Setup Nextjs Project"></a>Setup Nextjs Project</h1><h2 id="git仓库"><a href="#git仓库" class="headerlink" title="git仓库"></a>git仓库</h2><p>本文的教学内容将放入github仓库，可以结合着学习，不同分支将对应不同的章节</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="course-repository" href="https://github.com/malred/hexo-blog-nextjs-course" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">course-repository</span><span class="cap link footnote">https://github.com/malred/hexo-blog-nextjs-course</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/512317/github-142.svg"></div></div></a></div><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npx create-next-app@latest next-course</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line">pnpm dlx create-next-app@latest next-course</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span> </span><br><span class="line">pnpm create next-app</span><br></pre></td></tr></table></figure></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825202518.png" data-fancybox="true"/></div></div><p>或者使用我的开源项目来创建</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="rust-init-cli" href="https://github.com/malred/rust-init-cli" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">rust-init-cli</span><span class="cap link footnote">https://github.com/malred/rust-init-cli</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/512317/github-142.svg"></div></div></a></div><div class="tag-plugin link dis-select"><a class="link-card plain" title="rust-cli-panel" href="https://github.com/malred/rust-cli-panel" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">rust-cli-panel</span><span class="cap link footnote">https://github.com/malred/rust-cli-panel</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/512317/github-142.svg"></div></div></a></div><h1 id="功能1：文件路由系统"><a href="#功能1：文件路由系统" class="headerlink" title="功能1：文件路由系统"></a>功能1：文件路由系统</h1><blockquote><p>在版本 13 中，Next.js 引入了一个基于React Server Components构建的新App Router ，它支持共享布局、嵌套路由、加载状态、错误处理等。</p></blockquote><div class="tag-plugin link dis-select"><a class="link-card plain" title="nextjs-route" href="https://nextjs.org/docs/app/building-your-application/routing" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">nextjs-route</span><span class="cap link footnote">https://nextjs.org/docs/app/building-your-application/routing</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/354113/nextjs-icon.svg"></div></div></a></div><p>Nextjs会自动识别app目录中的<mark class="tag-plugin colorful mark" color="yellow">page.jsx/.tsx</mark>文件来创建页面，而父级或同级的<mark class="tag-plugin colorful mark" color="yellow">layout.jsx/.tsx</mark>会作为页面布局进行渲染</p><h2 id="来试一下"><a href="#来试一下" class="headerlink" title="来试一下"></a>来试一下</h2><p>假设我们要创建一个博客网站，站点中的博客的访问路径为site.example&#x2F;blog&#x2F;test&#x2F;，那么，让我们来创建这样的目录文件结构</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">    + blog</span><br><span class="line">        + test</span><br><span class="line">            + page.tsx</span><br><span class="line">    - page.tsx</span><br><span class="line">    - layout.tsx</span><br></pre></td></tr></table></figure><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/test/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">TestBlogPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            Hi, there is a blog page!</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>在<mark class="tag-plugin colorful mark" color="yellow">app/page.tsx</mark>中添加指向它的链接</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;</span>&#x27;/<span class="attr">blog</span>/<span class="attr">test</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                Go to test blog</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>启动它：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span> </span><br><span class="line">pnpm dev</span><br></pre></td></tr></table></figure><div class="tag-plugin link dis-select"><a class="link-card plain" title="" href="http://localhost:3000" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon"><div class="left"><span class="title">http://localhost:3000</span><span class="cap link footnote">http://localhost:3000</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203047.png" alt="ok, 因为默认css样式的原因，看起来有点怪" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">ok, 因为默认css样式的原因，看起来有点怪</span></div></div><p>修改一下<mark class="tag-plugin colorful mark" color="yellow">globals.css</mark>里的内容，将背景变得好看点</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="comment">/*--foreground-rgb: 0, 0, 0;*/</span></span><br><span class="line">    <span class="comment">/*--background-start-rgb: 214, 219, 220;*/</span></span><br><span class="line">    <span class="comment">/*--background-end-rgb: 255, 255, 255;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>效果</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203505.png" alt="首页" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">首页</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203631.png" alt="点击 Go to test blog" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">点击 Go to test blog</span></div></div><p>Ok, 你完成了这个挑战！<span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/cdn-x/emoji/qq/强.gif"/></span></p><h2 id="route映射到URL"><a href="#route映射到URL" class="headerlink" title="route映射到URL"></a>route映射到URL</h2><p>从刚才的例子我们可以看出，文件到路由的映射关系为：</p><mark class="tag-plugin colorful mark" color="orange">file://site.dir/app/a/b/page.jsx</mark> -> <mark class="tag-plugin colorful mark" color="orange">site.example/a/b</mark><h2 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h2><p>你或许注意到了，现在的URL是硬编码的，如果我们需要10个不同的blog页面（比如blog&#x2F;test2, blog&#x2F;abc, blog&#x2F;start），<br>那使用这种方式将要手动创建10个不同的xxx&#x2F;page.js&#x2F;jsx&#x2F;ts&#x2F;tsx，这是非常耗时且低效率的</p><p>当然，Nextjs为我们提供了名为动态路由的解决方案</p><p>它的文件路由映射是这样的：</p><mark class="tag-plugin colorful mark" color="orange">file://site.dir/app/blog/[slug]/page.jsx</mark> -><mark class="tag-plugin colorful mark" color="orange">site.example/blog/a</mark>,<mark class="tag-plugin colorful mark" color="orange">site.example/blog/b</mark>,<mark class="tag-plugin colorful mark" color="orange">site.example/blog/c</mark><h3 id="试一下"><a href="#试一下" class="headerlink" title="试一下"></a>试一下</h3><p>修改我们的目录结构</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">    - blog</span><br><span class="line">        + [slug]</span><br><span class="line">            + page.tsx</span><br></pre></td></tr></table></figure><p>创建博客内容页面</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/*生成随机数*/&#125;</span></span><br><span class="line"><span class="language-xml">            blog &#123;Math.round(Math.random() * 10)&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825210024.png" alt="访问blog/a到达了我们的[slug]/page" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">访问blog/a到达了我们的[slug]/page</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203631.png" alt="如果你保留了刚刚的blog/test/page，会发现它依然生效" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">如果你保留了刚刚的blog/test/page，会发现它依然生效</span></div></div><h2 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h2><p>Nextjs提供layout文件，提供布局功能，它是在多个路由之间共享的UI。在导航时，布局保留状态、保持交互性并且不重新渲染。布局也可以嵌套。</p><p>分析一下layout文件</p><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123;<span class="title class_">Metadata</span>&#125; <span class="keyword">from</span> <span class="string">&quot;next&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Inter</span>&#125; <span class="keyword">from</span> <span class="string">&quot;next/font/google&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./globals.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个是字体，暂时不用管</span></span><br><span class="line"><span class="keyword">const</span> inter = <span class="title class_">Inter</span>(&#123;<span class="attr">subsets</span>: [<span class="string">&quot;latin&quot;</span>]&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 提供页面的元数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">metadata</span>: <span class="title class_">Metadata</span> = &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&quot;Create Next App&quot;</span>,</span><br><span class="line">    <span class="attr">description</span>: <span class="string">&quot;Generated by create next app&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">RootLayout</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                       children,</span></span><br><span class="line"><span class="params">                                   &#125;: <span class="title class_">Readonly</span>&lt;&#123;</span></span><br><span class="line"><span class="params">    children: React.ReactNode;</span></span><br><span class="line"><span class="params">&#125;&gt;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">body</span> <span class="attr">className</span>=<span class="string">&#123;inter.className&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;/*children就是子目录里的内容（包含子目录的layout和page）*/&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;children&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h3 id="让我们添加navbar和footbar"><a href="#让我们添加navbar和footbar" class="headerlink" title="让我们添加navbar和footbar"></a>让我们添加navbar和footbar</h3><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// components/footbar.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Footbar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">bg-gray-200</span> <span class="attr">border-b</span> <span class="attr">border-b-gray-300</span> <span class="attr">border-t</span> <span class="attr">border-t-gray-300</span> <span class="attr">sticky</span> <span class="attr">h-20</span> <span class="attr">w-full</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            footbar</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// components/navbar.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Navbar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">bg-green-200</span> <span class="attr">border-b</span> <span class="attr">border-b-gray-300</span> <span class="attr">sticky</span> <span class="attr">w-full</span> <span class="attr">h-20</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            navbar</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><blockquote><p>你或许还没学过tailwindcss？看这篇文章（todo）</p></blockquote><p>将它们添加到layout.tsx</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/layout.tsx</span></span><br><span class="line"><span class="comment">/// </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">RootLayout</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                       children,</span></span><br><span class="line"><span class="params">                                   &#125;: <span class="title class_">Readonly</span>&lt;&#123;</span></span><br><span class="line"><span class="params">    children: React.ReactNode;</span></span><br><span class="line"><span class="params">&#125;&gt;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">body</span> <span class="attr">className</span>=<span class="string">&#123;inter.className&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Navbar</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;/*children就是子目录里的内容（包含子目录的layout和page）*/&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;children&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Footbar</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>效果：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825212940.png" data-fancybox="true"/></div></div><h1 id="提供博客内容"><a href="#提供博客内容" class="headerlink" title="提供博客内容"></a>提供博客内容</h1><p>OK, 你现在已经有了可以匹配不同名称的动态的路由, 以及创建了navbar和footbar, 但是, 我们希望页面能呈现更多内容.</p><h2 id="编写markdown"><a href="#编写markdown" class="headerlink" title="编写markdown"></a>编写markdown</h2><p>现在很多笔记软件都支持markdown语法, 这也是我本人比较喜欢的一种方式, 而现在也有很多npm库支持将markdown文件内容解析为html富文本串</p><blockquote><p>学习markdown语法?</p></blockquote><div class="tag-plugin link dis-select"><a class="link-card plain" title="查看wiki或者等待我的新文章(todo)" href="https://en.wikipedia.org/wiki/Markdown" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">查看wiki或者等待我的新文章(todo)</span><span class="cap link footnote">https://en.wikipedia.org/wiki/Markdown</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/510065/markdown.svg"></div></div></a></div><p>让我们改变目录结构</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">    - ...</span><br><span class="line">- contents</span><br><span class="line">    - mountain.md</span><br><span class="line">    - bird.md</span><br><span class="line">    - flower.md</span><br></pre></td></tr></table></figure><div class="tag-plugin colorful folders" ><details class="folder" index="0"><summary><span>mountain.md</span></summary><div class="body"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">https://cdn.pixabay.com/photo/2022/10/24/12/20/mountains-7543273_1280.jpg</span>)</span><br><span class="line"></span><br><span class="line"><span class="section"># Title: Summit Reflections: A Mountain&#x27;s Mirror to the Soul</span></span><br><span class="line"></span><br><span class="line">Climbing mountains is more than a physical endeavor; it&#x27;s a journey of the spirit, where each peak reveals a facet of</span><br><span class="line">inner strength. As I scaled the rugged trails, the grind of my boots against rock echoed the resilience required to</span><br><span class="line">surmount life&#x27;s challenges. The ascent, steep and demanding, taught me endurance. With each step, I found a metaphor for</span><br><span class="line">the effort needed to achieve one&#x27;s dreams.</span><br><span class="line"></span><br><span class="line">The view from the summit was not just a vista of vast landscapes but a perspective on the infinite possibilities life</span><br><span class="line">offers. It reminded me that after every great effort comes a broad expanse of opportunity. The descent, often</span><br><span class="line">overlooked, was no less instructive. It spoke of humility and caution; a reminder that what goes up must come down with</span><br><span class="line">grace.</span><br><span class="line"></span><br><span class="line">This mountain experience distilled life into a simple yet profound truth: the journey matters as much as the</span><br><span class="line">destination. It&#x27;s in the climb that we discover our mettle and in the view that we savor our triumphs.</span><br><span class="line"></span><br><span class="line">(<span class="emphasis">_create by AI_</span>)</span><br></pre></td></tr></table></figure></div></details><details class="folder" index="1"><summary><span>flower.md</span></summary><div class="body"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">https://cdn.pixabay.com/photo/2023/03/19/05/31/flower-7861942_960_720.jpg</span>)</span><br><span class="line"></span><br><span class="line"><span class="section"># Title: Blossoming Insights: A Whiff of Flowers</span></span><br><span class="line"></span><br><span class="line">As I meandered through the garden, the air was thick with the sweet perfume of blooming flowers. Each petal, a tender</span><br><span class="line">brushstroke on nature&#x27;s canvas, painted a picture of grace and resilience. The flowers, in their silent language, spoke</span><br><span class="line">of beauty that survives amidst the harshest conditions.</span><br><span class="line"></span><br><span class="line">A delicate rose, its petals softer than silk, nodded gently in the breeze. It reminded me that even the most stunning</span><br><span class="line">forms can emerge from thorny paths. In the blossoms, I saw a reflection of life&#x27;s inherent beauty and the fortitude to</span><br><span class="line">flourish despite challenges.</span><br><span class="line"></span><br><span class="line">The garden, with its kaleidoscope of colors, became a sanctuary where every flower told a story of transformation and</span><br><span class="line">growth. My spirits were lifted by this quiet symphony of scents and hues, a testament to nature&#x27;s power to inspire and</span><br><span class="line">replenish the soul.</span><br></pre></td></tr></table></figure></div></details><details class="folder" index="2"><summary><span>bird.md</span></summary><div class="body"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">https://cdn.pixabay.com/photo/2024/01/19/18/08/bird-8519547_1280.jpg</span>)</span><br><span class="line"></span><br><span class="line"><span class="section"># Title: Capturing the Charm of Feathered Friends</span></span><br><span class="line"></span><br><span class="line">Today&#x27;s venture into the serene woods was a delightful encounter with nature&#x27;s delicate treasures. As I wandered through</span><br><span class="line">the dappled sunlight under the canopy, my camera was my faithful companion, ready to freeze moments in time.</span><br><span class="line"></span><br><span class="line">A soft trill caught my attention, leading me to a vibrant avian presence. A tiny bird, with feathers arrayed in hues of</span><br><span class="line">blue and green, perched gracefully on a branch. It seemed almost aware of its own charm, bobbing and turning, as if</span><br><span class="line">posing for an unseen audience.</span><br><span class="line"></span><br><span class="line">I snapped a sequence of shots, each click capturing a different angle of this natural splendor. The bird, in its</span><br><span class="line">innocence, carried on with its song, unaware of the beauty it bestowed upon my day.</span><br><span class="line"></span><br><span class="line">As I left the woods, my heart felt lighter, and my camera held a piece of joy that I will cherish. These moments of</span><br><span class="line">connection with nature are what truly nourish the soul.</span><br></pre></td></tr></table></figure></div></details></div><h2 id="读取并显示"><a href="#读取并显示" class="headerlink" title="读取并显示"></a>读取并显示</h2><p>安装解析markdown需要的依赖</p><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i marked</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line">pnpm i marked</span><br></pre></td></tr></table></figure></div></div><p>在代码中读取文件并解析</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;readFile&#125; <span class="keyword">from</span> <span class="string">&quot;node:fs/promises&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;marked&#125; <span class="keyword">from</span> <span class="string">&quot;marked&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端组件可以使用async</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                           params,</span></span><br><span class="line"><span class="params">                                           searchParams,</span></span><br><span class="line"><span class="params">                                       &#125;: &#123;</span></span><br><span class="line"><span class="params">    params: &#123; slug: <span class="built_in">string</span> &#125; // 接收url参数: (/blog/[slug] -&gt; slug)</span></span><br><span class="line"><span class="params">    searchParams: &#123;&#125;</span></span><br><span class="line"><span class="params">&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> <span class="title function_">readFile</span>(<span class="string">`./contents/<span class="subst">$&#123;params.slug&#125;</span>.md`</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> html = <span class="title function_">marked</span>(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;__html:</span> <span class="attr">html</span>&#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>很好, 现在我们成功解析渲染了markdown文本到页面上!</p><p>效果:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826092056.png" data-fancybox="true"/></div></div><h2 id="解决文字样式问题"><a href="#解决文字样式问题" class="headerlink" title="解决文字样式问题"></a>解决文字样式问题</h2><p>你或许发现了, 我们的标题样式和普通文字是一样的, 这是因为tailwindcss清除了默认的css样式, 我们可以使用一个库来解决</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="tailwind-typography与默认样式解释" href="https://tailwindcss.com/blog/tailwindcss-typography" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">tailwind-typography与默认样式解释</span><span class="cap link footnote">https://tailwindcss.com/blog/tailwindcss-typography</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/374118/tailwind.svg"></div></div></a></div><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i -save-dev @tailwindcss/typography</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line">pnpm i -save-dev @tailwindcss/typography</span><br></pre></td></tr></table></figure></div></div><p>注册为tailwind插件</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tailwind.config.ts</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">config</span>: <span class="title class_">Config</span> = &#123;</span><br><span class="line">    <span class="comment">/// ...</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">&#x27;@tailwindcss/typography&#x27;</span>)</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> config;</span><br></pre></td></tr></table></figure><p>然后使用为组件添加prose类名</p><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;readFile&#125; <span class="keyword">from</span> <span class="string">&quot;node:fs/promises&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;marked&#125; <span class="keyword">from</span> <span class="string">&quot;marked&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                           params,</span></span><br><span class="line"><span class="params">                                           searchParams,</span></span><br><span class="line"><span class="params">                                       &#125;: &#123;</span></span><br><span class="line"><span class="params">    params: &#123; slug: <span class="built_in">string</span> &#125; // 接收url参数: (/blog/[slug] -&gt; slug)</span></span><br><span class="line"><span class="params">    searchParams: &#123;&#125;</span></span><br><span class="line"><span class="params">&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> <span class="title function_">readFile</span>(<span class="string">`./contents/<span class="subst">$&#123;params.slug&#125;</span>.md`</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> html = <span class="title function_">marked</span>(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="comment">// flex flex-row justify-center -&gt; 内容居中</span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">w-screen</span> <span class="attr">flex</span> <span class="attr">flex-row</span> <span class="attr">justify-center</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/* prose让文本中的标题有对应的样式 */&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">prose</span>&#x27;&#125; <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;__html:</span> <span class="attr">html</span>&#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重新启动服务, 再次访问页面</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826142919.png" data-fancybox="true"/></div></div><h1 id="功能2-提供API接口"><a href="#功能2-提供API接口" class="headerlink" title="功能2: 提供API接口"></a>功能2: 提供API接口</h1><p>Nextjs会将api目录下的文件解析为后端接口, 接收http请求并进行处理.</p><p>我们将读取和解析markdown文件的操作放到后端(api目录)去, 而将渲染的工作留在前端(app目录)</p><h2 id="试一下-1"><a href="#试一下-1" class="headerlink" title="试一下"></a>试一下</h2><p>改变我们的目录结构</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">  + api</span><br><span class="line">      + blogs</span><br><span class="line">          + [slug]</span><br><span class="line">              + route.ts </span><br></pre></td></tr></table></figure><p>此时文件系统和URL的对应关系是</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app/api/blogs/[slug]/route.ts -&gt; site.example.com/api/blogs/a, site.example.com/api/blogs/b, ...</span><br></pre></td></tr></table></figure><p>编写处理请求的代码</p><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// api/blogs/route.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">NextRequest</span>, <span class="title class_">NextResponse</span>&#125; <span class="keyword">from</span> <span class="string">&quot;next/server&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;readFile&#125; <span class="keyword">from</span> <span class="string">&quot;node:fs/promises&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;marked&#125; <span class="keyword">from</span> <span class="string">&quot;marked&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收GET请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">GET</span>(<span class="params"><span class="attr">req</span>: <span class="title class_">NextRequest</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 解析url</span></span><br><span class="line">    <span class="keyword">let</span> slug = req.<span class="property">url</span>.<span class="title function_">slice</span>(</span><br><span class="line">        req.<span class="property">url</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;/&#x27;</span>) + <span class="number">1</span>,</span><br><span class="line">        req.<span class="property">url</span>.<span class="property">length</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> html</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 读取md文件</span></span><br><span class="line">        <span class="keyword">const</span> text = <span class="keyword">await</span> <span class="title function_">readFile</span>(<span class="string">`./contents/<span class="subst">$&#123;slug&#125;</span>.md`</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">        html = <span class="title function_">marked</span>(text)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">        <span class="comment">// 错误返回</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">json</span>(&#123;<span class="attr">error</span>: err&#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回html内容</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">json</span>(&#123;html&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收POST请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">POST</span>(<span class="params"><span class="attr">req</span>: <span class="title class_">NextRequest</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">json</span>(&#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>看看结果:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826150820.png" alt="访问不存在的md文件" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">访问不存在的md文件</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826150922.png" alt="访问正常存在的文件" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">访问正常存在的文件</span></div></div><p>在前端请求后端数据</p><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端组件可以使用async</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                           params,</span></span><br><span class="line"><span class="params">                                           searchParams,</span></span><br><span class="line"><span class="params">                                       &#125;: &#123;</span></span><br><span class="line"><span class="params">    params: &#123; slug: <span class="built_in">string</span> &#125; // 接收url参数: (/blog/[slug] -&gt; slug)</span></span><br><span class="line"><span class="params">    searchParams: &#123;&#125;</span></span><br><span class="line"><span class="params">&#125;</span>) &#123;</span><br><span class="line">    <span class="comment">// 请求后端数据</span></span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`http://localhost:3000/api/blogs/<span class="subst">$&#123;params.slug&#125;</span>`</span>, &#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> json = <span class="keyword">await</span> res.<span class="title function_">json</span>()</span><br><span class="line">    <span class="keyword">let</span> html</span><br><span class="line">    <span class="keyword">if</span> (json.<span class="property">error</span>)</span><br><span class="line">        html = <span class="string">&quot;Ooh! Something went wrong&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        html = json.<span class="property">html</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="comment">// flex flex-row justify-center -&gt; 内容居中</span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">w-screen</span> <span class="attr">flex</span> <span class="attr">flex-row</span> <span class="attr">justify-center</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/* prose让文本中的标题有对应的样式 */&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">prose</span>&#x27;&#125; <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;__html:</span> <span class="attr">html</span>&#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826151617.png" alt="正常访问" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">正常访问</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826151624.png" alt="访问不存在的md文件" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">访问不存在的md文件</span></div></div><p>到这里, 我们就告一段落了, 为了防止文章过长, 我将其他内容放到了单独的篇章, 你可以在下面点击跳转阅读</p><h1 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h1><h2 id="使用next-themes进行日夜主题切换"><a href="#使用next-themes进行日夜主题切换" class="headerlink" title="使用next-themes进行日夜主题切换"></a>使用next-themes进行日夜主题切换</h2><p>你见过别人的网站可以切换为明亮和黑暗样式的主题吗, 我们也可以实现</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="next-themes" href="https://www.npmjs.com/package/next-themes" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">next-themes</span><span class="cap link footnote">https://www.npmjs.com/package/next-themes</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><h2 id="使用prisma连接数据库"><a href="#使用prisma连接数据库" class="headerlink" title="使用prisma连接数据库"></a>使用prisma连接数据库</h2><p>通过文件系统或缓存系统存储数据是一种选择, 但是使用数据库存储数据是更加常用的选择.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="prisma" href="https://www.prisma.io/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">prisma</span><span class="cap link footnote">https://www.prisma.io/</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/354210/prisma.svg"></div></div></a></div><h2 id="使用next-auth进行身份验证"><a href="#使用next-auth进行身份验证" class="headerlink" title="使用next-auth进行身份验证"></a>使用next-auth进行身份验证</h2><p>身份验证是应用程序常见的功能, 使用next-auth可以免去自己编写登录注册页的麻烦, 专注于实现身份验证逻辑</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="next-auth" href="https://next-auth.js.org/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">next-auth</span><span class="cap link footnote">https://next-auth.js.org/</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><h2 id="使用tiptap作为富文本编辑器"><a href="#使用tiptap作为富文本编辑器" class="headerlink" title="使用tiptap作为富文本编辑器"></a>使用tiptap作为富文本编辑器</h2><p>tiptap是一款现代化的无头富文本编辑器, 可以让我们轻松编写好看的页面内容</p><blockquote><p>如何通过代码定制tiptap? 查看我的最新文章(todo)</p></blockquote><div class="tag-plugin link dis-select"><a class="link-card plain" title="tiptap官方文档" href="https://tiptap.dev/docs/editor/getting-started/overview" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">tiptap官方文档</span><span class="cap link footnote">https://tiptap.dev/docs/editor/getting-started/overview</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div>]]></content>
    
    
    <summary type="html">nextjs入门 - v13</summary>
    
    
    
    <category term="nextjs" scheme="https://malcode-site.github.io/categories/nextjs/"/>
    
    <category term="frontend" scheme="https://malcode-site.github.io/categories/nextjs/frontend/"/>
    
    
    <category term="nextjs" scheme="https://malcode-site.github.io/tags/nextjs/"/>
    
    <category term="frontend" scheme="https://malcode-site.github.io/tags/frontend/"/>
    
  </entry>
  
  <entry>
    <title>Getting Started with Next.js - v13</title>
    <link href="https://malcode-site.github.io/2024/08/25/nextjs-beginner/en/"/>
    <id>https://malcode-site.github.io/2024/08/25/nextjs-beginner/en/</id>
    <published>2024-08-25T10:35:48.000Z</published>
    <updated>2024-08-26T07:40:28.862Z</updated>
    
    <content type="html"><![CDATA[<h1 id="What-is-Nextjs"><a href="#What-is-Nextjs" class="headerlink" title="What is Nextjs"></a>What is Nextjs</h1><p>Next.js is a full-stack SSR framework based on React, providing a series of tools for automatic configuration of React,<br>allowing us to focus on building applications and simplify the configuration process.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="nextjs" href="https://nextjs.org/docs" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">nextjs</span><span class="cap link footnote">https://nextjs.org/docs</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/354113/nextjs-icon.svg"></div></div></a></div><h1 id="What-is-SSR（Server-Side-Render）"><a href="#What-is-SSR（Server-Side-Render）" class="headerlink" title="What is SSR（Server Side Render）"></a>What is SSR（Server Side Render）</h1><h2 id="SPA-Single-Page-App"><a href="#SPA-Single-Page-App" class="headerlink" title="SPA (Single Page App)"></a>SPA (Single Page App)</h2><p>When it comes to server-side rendering, we have to mention <em>SPA (Single Page Applications)</em>. Examples of single page<br>applications include React and Vue, which operate by downloading JavaScript to the client side for execution.<br>They undergo compilation and building processes to create JavaScript virtual DOM objects, which are then mounted onto<br>index.html all at once. Since they are mounted on a single HTML file, for instance:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825192010.png" alt="The SPA application provides an index.html file, which contains a div tag with a specified id." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">The SPA application provides an index.html file, which contains a div tag with a specified id.</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825192157.png" alt="Then, in the entry JS of the SPA, the program is rendered and mounted onto the specified div." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">Then, in the entry JS of the SPA, the program is rendered and mounted onto the specified div.</span></div></div><p>Other modifications are based on it, so it is a single-page application.<br>Moreover, SPA programs place the JavaScript files for rendering and logical processing on the client side, where the<br>rendering tasks are handled by the client, hence they are also known as CSR (Client-Side Rendering) programs.</p><p>On the other hand, server-side rendering involves the server rendering the HTML file and then delivering it to the<br>client, returning the corresponding HTML file based on different requests.</p><h2 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h2><ul><li><strong>Performance</strong><br>CSR assigns the rendering task to the client, which can lead to lag on devices with poor performance, but it<br>relatively reduces the server’s load. In contrast, SSR faces significant stress during peak request times due to the<br>need to handle a large volume of requests, but it alleviates pressure on the client side.</li><li><strong>SEO-friendliness</strong><br>Before rendering, it is difficult for CSR to obtain specific information about the webpage, making it not<br>SEO-friendly. However, SSR can provide the rendered files to search engine crawlers, at which point the page content<br>is essentially complete, facilitating analysis and recognition by the engine algorithms.</li><li><strong>Initial load time</strong><br>CSR requires downloading the JS to the client for rendering, so there might be a period of blankness on the page (an<br>issue with initial screen rendering) before the JS is downloaded to the client.<br>On the other hand, SSR renders the HTML on the server first, eliminating this step and reducing client-side burden,<br>thus it can display content to users more quickly.</li></ul><h1 id="Setup-Nextjs-Project"><a href="#Setup-Nextjs-Project" class="headerlink" title="Setup Nextjs Project"></a>Setup Nextjs Project</h1><h2 id="git-repository"><a href="#git-repository" class="headerlink" title="git repository"></a>git repository</h2><p>The teaching content of this article will be placed in the GitHub repository, which can be studied in conjunction.<br>Different branches will correspond to different chapters.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="course-repository" href="https://github.com/malred/hexo-blog-nextjs-course" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">course-repository</span><span class="cap link footnote">https://github.com/malred/hexo-blog-nextjs-course</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/512317/github-142.svg"></div></div></a></div><h2 id="init-project"><a href="#init-project" class="headerlink" title="init project"></a>init project</h2><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npx create-next-app@latest next-course</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line">pnpm dlx create-next-app@latest next-course</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span> </span><br><span class="line">pnpm create next-app</span><br></pre></td></tr></table></figure></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825202518.png" data-fancybox="true"/></div></div><p>Alternatively, you can use my open-source project to create.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="rust-init-cli" href="https://github.com/malred/rust-init-cli" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">rust-init-cli</span><span class="cap link footnote">https://github.com/malred/rust-init-cli</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/512317/github-142.svg"></div></div></a></div><div class="tag-plugin link dis-select"><a class="link-card plain" title="rust-cli-panel" href="https://github.com/malred/rust-cli-panel" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">rust-cli-panel</span><span class="cap link footnote">https://github.com/malred/rust-cli-panel</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/512317/github-142.svg"></div></div></a></div><h1 id="Function-1-File-Routing-System"><a href="#Function-1-File-Routing-System" class="headerlink" title="Function 1: File Routing System"></a>Function 1: File Routing System</h1><blockquote><p>In version 13, Next.js introduced a new App Router built on React Server Components, which supports shared layouts,<br>nested routes, loading states, error handling, and more.</p></blockquote><div class="tag-plugin link dis-select"><a class="link-card plain" title="nextjs-route" href="https://nextjs.org/docs/app/building-your-application/routing" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">nextjs-route</span><span class="cap link footnote">https://nextjs.org/docs/app/building-your-application/routing</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/354113/nextjs-icon.svg"></div></div></a></div><p>Next.js automatically recognizes files in the <code>app</code> directory with the extension <code>.page.jsx</code> or <code>.page.tsx</code> to create<br>pages, while their parent or sibling files called <code>layout.jsx</code> or <code>layout.tsx</code> are used as page layouts for rendering.</p><h2 id="try-it"><a href="#try-it" class="headerlink" title="try it"></a>try it</h2><p>Assuming we want to create a blog website and the access path for the blog is site.example&#x2F;blog&#x2F;test&#x2F;,<br>let’s create the directory file structure accordingly:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">    + blog</span><br><span class="line">        + test</span><br><span class="line">            + page.tsx</span><br><span class="line">    - page.tsx</span><br><span class="line">    - layout.tsx</span><br></pre></td></tr></table></figure><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/test/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">TestBlogPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            Hi, there is a blog page!</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>Add a link to it in <mark class="tag-plugin colorful mark" color="yellow">app/page.tsx</mark>.</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;</span>&#x27;/<span class="attr">blog</span>/<span class="attr">test</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">                Go to test blog</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>start it：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span> </span><br><span class="line">pnpm dev</span><br></pre></td></tr></table></figure><div class="tag-plugin link dis-select"><a class="link-card plain" title="" href="http://localhost:3000" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon"><div class="left"><span class="title">http://localhost:3000</span><span class="cap link footnote">http://localhost:3000</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203047.png" alt="Due to the default CSS styles, it looks a bit odd." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">Due to the default CSS styles, it looks a bit odd.</span></div></div><p>Modify the content in <mark class="tag-plugin colorful mark" color="yellow">globals.css</mark> to make the background look nicer.</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="comment">/*--foreground-rgb: 0, 0, 0;*/</span></span><br><span class="line">    <span class="comment">/*--background-start-rgb: 214, 219, 220;*/</span></span><br><span class="line">    <span class="comment">/*--background-end-rgb: 255, 255, 255;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>result:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203505.png" alt="home page" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">home page</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203631.png" alt="click `Go to test blog`" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">click `Go to test blog`</span></div></div><p>Ok, You completed the challenge！<span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/cdn-x/emoji/qq/强.gif"/></span></p><h2 id="Route-mapped-to-URL"><a href="#Route-mapped-to-URL" class="headerlink" title="Route mapped to URL"></a>Route mapped to URL</h2><p>From the example we just looked at, we can see that the mapping relationship from file to route is as follows:</p><mark class="tag-plugin colorful mark" color="orange">file://site.dir/app/a/b/page.jsx</mark> -> <mark class="tag-plugin colorful mark" color="orange">site.example/a/b</mark><h2 id="Dynamic-Route"><a href="#Dynamic-Route" class="headerlink" title="Dynamic Route"></a>Dynamic Route</h2><p>You might have noticed that the current URLs are hardcoded.<br>If we need 10 different blog pages (such as <code>blog/test2</code>, <code>blog/abc</code>, <code>blog/start</code>), using this method would require<br>manually creating 10 different <code>xxx/page.js/jsx/ts/tsx</code> files, which is very time-consuming and inefficient.</p><p>Of course, Next.js provides a solution called dynamic routes.</p><p>The file route mapping for it looks like this:</p><mark class="tag-plugin colorful mark" color="orange">file://site.dir/app/blog/[slug]/page.jsx</mark> -><mark class="tag-plugin colorful mark" color="orange">site.example/blog/a</mark>,<mark class="tag-plugin colorful mark" color="orange">site.example/blog/b</mark>,<mark class="tag-plugin colorful mark" color="orange">site.example/blog/c</mark><h3 id="try-it-1"><a href="#try-it-1" class="headerlink" title="try it"></a>try it</h3><p>Modify our directory structure.</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">    - blog</span><br><span class="line">        + [slug]</span><br><span class="line">            + page.tsx</span><br></pre></td></tr></table></figure><p>Create a blog content page.</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/*生成随机数*/&#125;</span></span><br><span class="line"><span class="language-xml">            blog &#123;Math.round(Math.random() * 10)&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825210024.png" alt="Visiting `blog/a` reached our `[slug]/page`." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">Visiting `blog/a` reached our `[slug]/page`.</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825203631.png" alt="If you have kept the `blog/test/page` from before, you'll find it still works." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">If you have kept the `blog/test/page` from before, you'll find it still works.</span></div></div><h2 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h2><p>Next.js provides a layout file that offers layout functionality, which is UI shared among multiple routes. When<br>navigating, the layout retains its state, remains interactive, and does not re-render. Layouts can also be nested.</p><p>Let’s analyze the layout file:</p><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123;<span class="title class_">Metadata</span>&#125; <span class="keyword">from</span> <span class="string">&quot;next&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Inter</span>&#125; <span class="keyword">from</span> <span class="string">&quot;next/font/google&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./globals.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This is a font, don&#x27;t worry about it for now.</span></span><br><span class="line"><span class="keyword">const</span> inter = <span class="title class_">Inter</span>(&#123;<span class="attr">subsets</span>: [<span class="string">&quot;latin&quot;</span>]&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Provides metadata for the page.</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">metadata</span>: <span class="title class_">Metadata</span> = &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&quot;Create Next App&quot;</span>,</span><br><span class="line">    <span class="attr">description</span>: <span class="string">&quot;Generated by create next app&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">RootLayout</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                       children,</span></span><br><span class="line"><span class="params">                                   &#125;: <span class="title class_">Readonly</span>&lt;&#123;</span></span><br><span class="line"><span class="params">    children: React.ReactNode;</span></span><br><span class="line"><span class="params">&#125;&gt;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">body</span> <span class="attr">className</span>=<span class="string">&#123;inter.className&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;/*&quot;children&quot; refers to the content inside the subdirectory (including the layout and page of the subdirectory).*/&#125;</span></span><br><span class="line"><span class="language-xml">        &#123;children&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h3 id="Let’s-add-a-navbar-and-a-footbar"><a href="#Let’s-add-a-navbar-and-a-footbar" class="headerlink" title="Let’s add a navbar and a footbar."></a>Let’s add a navbar and a footbar.</h3><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// components/footbar.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Footbar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">bg-gray-200</span> <span class="attr">border-b</span> <span class="attr">border-b-gray-300</span> <span class="attr">border-t</span> <span class="attr">border-t-gray-300</span> <span class="attr">sticky</span> <span class="attr">h-20</span> <span class="attr">w-full</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            footbar</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// components/navbar.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Navbar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">bg-green-200</span> <span class="attr">border-b</span> <span class="attr">border-b-gray-300</span> <span class="attr">sticky</span> <span class="attr">w-full</span> <span class="attr">h-20</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            navbar</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><blockquote><p>Have you not learned Tailwind CSS yet? Check out this article (todo).</p></blockquote><p>add them to layout.tsx</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/layout.tsx</span></span><br><span class="line"><span class="comment">/// </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">RootLayout</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                       children,</span></span><br><span class="line"><span class="params">                                   &#125;: <span class="title class_">Readonly</span>&lt;&#123;</span></span><br><span class="line"><span class="params">    children: React.ReactNode;</span></span><br><span class="line"><span class="params">&#125;&gt;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">body</span> <span class="attr">className</span>=<span class="string">&#123;inter.className&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Navbar</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;children&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Footbar</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>Result：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240825212940.png" data-fancybox="true"/></div></div><h1 id="provide-blog-contents"><a href="#provide-blog-contents" class="headerlink" title="provide blog contents"></a>provide blog contents</h1><p>OK, you now have dynamic routes that can match different names, as well as having created a navbar and footbar. However,<br>we want the page to display more content.</p><h2 id="write-markdown"><a href="#write-markdown" class="headerlink" title="write markdown"></a>write markdown</h2><p>Many note-taking applications now support Markdown syntax, which is a method I particularly favor. Additionally, there<br>are numerous npm libraries available that can parse the contents of Markdown files into HTML rich text strings.</p><blockquote><p>learn markdown Syntax?</p></blockquote><div class="tag-plugin link dis-select"><a class="link-card plain" title="see wiki or wait my new post(todo)" href="https://en.wikipedia.org/wiki/Markdown" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">see wiki or wait my new post(todo)</span><span class="cap link footnote">https://en.wikipedia.org/wiki/Markdown</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/510065/markdown.svg"></div></div></a></div><p>let us change directory structure</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">    - ...</span><br><span class="line">- contents</span><br><span class="line">    - mountain.md</span><br><span class="line">    - bird.md</span><br><span class="line">    - flower.md</span><br></pre></td></tr></table></figure><div class="tag-plugin colorful folders" ><details class="folder" index="0"><summary><span>mountain.md</span></summary><div class="body"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">https://cdn.pixabay.com/photo/2022/10/24/12/20/mountains-7543273_1280.jpg</span>)</span><br><span class="line"></span><br><span class="line"><span class="section"># Title: Summit Reflections: A Mountain&#x27;s Mirror to the Soul</span></span><br><span class="line"></span><br><span class="line">Climbing mountains is more than a physical endeavor; it&#x27;s a journey of the spirit, where each peak reveals a facet of</span><br><span class="line">inner strength. As I scaled the rugged trails, the grind of my boots against rock echoed the resilience required to</span><br><span class="line">surmount life&#x27;s challenges. The ascent, steep and demanding, taught me endurance. With each step, I found a metaphor for</span><br><span class="line">the effort needed to achieve one&#x27;s dreams.</span><br><span class="line"></span><br><span class="line">The view from the summit was not just a vista of vast landscapes but a perspective on the infinite possibilities life</span><br><span class="line">offers. It reminded me that after every great effort comes a broad expanse of opportunity. The descent, often</span><br><span class="line">overlooked, was no less instructive. It spoke of humility and caution; a reminder that what goes up must come down with</span><br><span class="line">grace.</span><br><span class="line"></span><br><span class="line">This mountain experience distilled life into a simple yet profound truth: the journey matters as much as the</span><br><span class="line">destination. It&#x27;s in the climb that we discover our mettle and in the view that we savor our triumphs.</span><br><span class="line"></span><br><span class="line">(<span class="emphasis">_create by AI_</span>)</span><br></pre></td></tr></table></figure></div></details><details class="folder" index="1"><summary><span>flower.md</span></summary><div class="body"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">https://cdn.pixabay.com/photo/2023/03/19/05/31/flower-7861942_960_720.jpg</span>)</span><br><span class="line"></span><br><span class="line"><span class="section"># Title: Blossoming Insights: A Whiff of Flowers</span></span><br><span class="line"></span><br><span class="line">As I meandered through the garden, the air was thick with the sweet perfume of blooming flowers. Each petal, a tender</span><br><span class="line">brushstroke on nature&#x27;s canvas, painted a picture of grace and resilience. The flowers, in their silent language, spoke</span><br><span class="line">of beauty that survives amidst the harshest conditions.</span><br><span class="line"></span><br><span class="line">A delicate rose, its petals softer than silk, nodded gently in the breeze. It reminded me that even the most stunning</span><br><span class="line">forms can emerge from thorny paths. In the blossoms, I saw a reflection of life&#x27;s inherent beauty and the fortitude to</span><br><span class="line">flourish despite challenges.</span><br><span class="line"></span><br><span class="line">The garden, with its kaleidoscope of colors, became a sanctuary where every flower told a story of transformation and</span><br><span class="line">growth. My spirits were lifted by this quiet symphony of scents and hues, a testament to nature&#x27;s power to inspire and</span><br><span class="line">replenish the soul.</span><br><span class="line"></span><br><span class="line">(<span class="emphasis">_create by AI_</span>)</span><br></pre></td></tr></table></figure></div></details><details class="folder" index="2"><summary><span>bird.md</span></summary><div class="body"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">https://cdn.pixabay.com/photo/2024/01/19/18/08/bird-8519547_1280.jpg</span>)</span><br><span class="line"></span><br><span class="line"><span class="section"># Title: Capturing the Charm of Feathered Friends</span></span><br><span class="line"></span><br><span class="line">Today&#x27;s venture into the serene woods was a delightful encounter with nature&#x27;s delicate treasures. As I wandered through</span><br><span class="line">the dappled sunlight under the canopy, my camera was my faithful companion, ready to freeze moments in time.</span><br><span class="line"></span><br><span class="line">A soft trill caught my attention, leading me to a vibrant avian presence. A tiny bird, with feathers arrayed in hues of</span><br><span class="line">blue and green, perched gracefully on a branch. It seemed almost aware of its own charm, bobbing and turning, as if</span><br><span class="line">posing for an unseen audience.</span><br><span class="line"></span><br><span class="line">I snapped a sequence of shots, each click capturing a different angle of this natural splendor. The bird, in its</span><br><span class="line">innocence, carried on with its song, unaware of the beauty it bestowed upon my day.</span><br><span class="line"></span><br><span class="line">As I left the woods, my heart felt lighter, and my camera held a piece of joy that I will cherish. These moments of</span><br><span class="line">connection with nature are what truly nourish the soul.</span><br><span class="line"></span><br><span class="line">(<span class="emphasis">_create by AI_</span>)</span><br></pre></td></tr></table></figure></div></details></div><h2 id="read-and-show"><a href="#read-and-show" class="headerlink" title="read and show"></a>read and show</h2><p>Install the dependencies required to parse Markdown.</p><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i marked</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line">pnpm i marked</span><br></pre></td></tr></table></figure></div></div><p>Read and parse files in the code.</p><div class="tag-plugin colorful note" color="blue" child="codeblock"><div class="body"><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;readFile&#125; <span class="keyword">from</span> <span class="string">&quot;node:fs/promises&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;marked&#125; <span class="keyword">from</span> <span class="string">&quot;marked&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                           params,</span></span><br><span class="line"><span class="params">                                           searchParams,</span></span><br><span class="line"><span class="params">                                       &#125;: &#123;</span></span><br><span class="line"><span class="params">    params: &#123; slug: <span class="built_in">string</span> &#125;</span></span><br><span class="line"><span class="params">    searchParams: &#123;&#125;</span></span><br><span class="line"><span class="params">&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> <span class="title function_">readFile</span>(<span class="string">`./contents/<span class="subst">$&#123;params.slug&#125;</span>.md`</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> html = <span class="title function_">marked</span>(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;__html:</span> <span class="attr">html</span>&#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>Great, we have now successfully parsed and rendered the Markdown text onto the page!</p><p>Result:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826092056.png" data-fancybox="true"/></div></div><h2 id="Address-the-issue-with-text-styling"><a href="#Address-the-issue-with-text-styling" class="headerlink" title="Address the issue with text styling."></a>Address the issue with text styling.</h2><p>You might have noticed that our heading styles are the same as the regular text. This is because Tailwind CSS removes<br>default CSS styles, but we can use a library to address this issue.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="tailwind-typography" href="https://tailwindcss.com/blog/tailwindcss-typography" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">tailwind-typography</span><span class="cap link footnote">https://tailwindcss.com/blog/tailwindcss-typography</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/374118/tailwind.svg"></div></div></a></div><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i -save-dev @tailwindcss/typography</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line">pnpm i -save-dev @tailwindcss/typography</span><br></pre></td></tr></table></figure></div></div><p>Register as a Tailwind plugin.</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tailwind.config.ts</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">config</span>: <span class="title class_">Config</span> = &#123;</span><br><span class="line">    <span class="comment">/// ...</span></span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">&#x27;@tailwindcss/typography&#x27;</span>)</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> config;</span><br></pre></td></tr></table></figure><p>Then use it to add the ‘prose’ class name to components.</p><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;readFile&#125; <span class="keyword">from</span> <span class="string">&quot;node:fs/promises&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;marked&#125; <span class="keyword">from</span> <span class="string">&quot;marked&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                           params,</span></span><br><span class="line"><span class="params">                                           searchParams,</span></span><br><span class="line"><span class="params">                                       &#125;: &#123;</span></span><br><span class="line"><span class="params">    params: &#123; slug: <span class="built_in">string</span> &#125; // 接收url参数: (/blog/[slug] -&gt; slug)</span></span><br><span class="line"><span class="params">    searchParams: &#123;&#125;</span></span><br><span class="line"><span class="params">&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> <span class="title function_">readFile</span>(<span class="string">`./contents/<span class="subst">$&#123;params.slug&#125;</span>.md`</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> html = <span class="title function_">marked</span>(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="comment">// flex flex-row justify-center -&gt; 内容居中</span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">w-screen</span> <span class="attr">flex</span> <span class="attr">flex-row</span> <span class="attr">justify-center</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/* prose让文本中的标题有对应的样式 */&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">prose</span>&#x27;&#125; <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;__html:</span> <span class="attr">html</span>&#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Restart the server and access the page again.</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826142919.png" data-fancybox="true"/></div></div><h1 id="Function-2-Provide-API-interfaces"><a href="#Function-2-Provide-API-interfaces" class="headerlink" title="Function 2: Provide API interfaces."></a>Function 2: Provide API interfaces.</h1><p>Next.js will parse the files in the api directory as backend interfaces, receiving and processing HTTP requests.</p><p>We will move the operation of reading and parsing Markdown files to the backend (api directory), while keeping the<br>rendering work on the frontend (app directory).</p><h2 id="try-it-2"><a href="#try-it-2" class="headerlink" title="try it"></a>try it</h2><p>Change our directory structure.</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- app</span><br><span class="line">  + api</span><br><span class="line">      + blogs</span><br><span class="line">          + [slug]</span><br><span class="line">              + route.ts </span><br></pre></td></tr></table></figure><p>The current correspondence between the file system and URLs is as follows:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app/api/blogs/[slug]/route.ts -&gt; site.example.com/api/blogs/a, site.example.com/api/blogs/b, ...</span><br></pre></td></tr></table></figure><p>Write code to handle requests.</p><div class="tag-plugin colorful note" color="green" child="codeblock"><div class="body"><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// api/blogs/route.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">NextRequest</span>, <span class="title class_">NextResponse</span>&#125; <span class="keyword">from</span> <span class="string">&quot;next/server&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;readFile&#125; <span class="keyword">from</span> <span class="string">&quot;node:fs/promises&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;marked&#125; <span class="keyword">from</span> <span class="string">&quot;marked&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收GET请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">GET</span>(<span class="params"><span class="attr">req</span>: <span class="title class_">NextRequest</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 解析url</span></span><br><span class="line">    <span class="keyword">let</span> slug = req.<span class="property">url</span>.<span class="title function_">slice</span>(</span><br><span class="line">        req.<span class="property">url</span>.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;/&#x27;</span>) + <span class="number">1</span>,</span><br><span class="line">        req.<span class="property">url</span>.<span class="property">length</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> html</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 读取md文件</span></span><br><span class="line">        <span class="keyword">const</span> text = <span class="keyword">await</span> <span class="title function_">readFile</span>(<span class="string">`./contents/<span class="subst">$&#123;slug&#125;</span>.md`</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">        html = <span class="title function_">marked</span>(text)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">        <span class="comment">// 错误返回</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">json</span>(&#123;<span class="attr">error</span>: err&#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回html内容</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">json</span>(&#123;html&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收POST请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">POST</span>(<span class="params"><span class="attr">req</span>: <span class="title class_">NextRequest</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NextResponse</span>.<span class="title function_">json</span>(&#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>Result:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826150820.png" alt="Access a non-existent md file." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">Access a non-existent md file.</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826150922.png" alt="Access a file that normally exists." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">Access a file that normally exists.</span></div></div><p>Request backend data from the front end.</p><figure class="highlight typescript"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/blog/[slug]/page.tsx</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端组件可以使用async</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">BlogPage</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">                                           params,</span></span><br><span class="line"><span class="params">                                           searchParams,</span></span><br><span class="line"><span class="params">                                       &#125;: &#123;</span></span><br><span class="line"><span class="params">    params: &#123; slug: <span class="built_in">string</span> &#125; // 接收url参数: (/blog/[slug] -&gt; slug)</span></span><br><span class="line"><span class="params">    searchParams: &#123;&#125;</span></span><br><span class="line"><span class="params">&#125;</span>) &#123;</span><br><span class="line">    <span class="comment">// 请求后端数据</span></span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`http://localhost:3000/api/blogs/<span class="subst">$&#123;params.slug&#125;</span>`</span>, &#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> json = <span class="keyword">await</span> res.<span class="title function_">json</span>()</span><br><span class="line">    <span class="keyword">let</span> html</span><br><span class="line">    <span class="keyword">if</span> (json.<span class="property">error</span>)</span><br><span class="line">        html = <span class="string">&quot;Ooh! Something went wrong&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        html = json.<span class="property">html</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="comment">// flex flex-row justify-center -&gt; 内容居中</span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">w-screen</span> <span class="attr">flex</span> <span class="attr">flex-row</span> <span class="attr">justify-center</span>&#x27;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;/* prose让文本中的标题有对应的样式 */&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>&#x27;<span class="attr">prose</span>&#x27;&#125; <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;__html:</span> <span class="attr">html</span>&#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Result:</p><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826151617.png" alt="success" data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">success</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/20240826151624.png" alt="Access a non-existent md file." data-fancybox="true"/></div><div class="image-meta"><span class="image-caption center">Access a non-existent md file.</span></div></div><p>At this point, we will pause here. To prevent the article from becoming too lengthy, I have placed the remaining content<br>in separate sections, which you can click below to continue reading.</p><h1 id="Next-Step"><a href="#Next-Step" class="headerlink" title="Next Step"></a>Next Step</h1><h2 id="Use-next-themes-for-day-and-night-theme-switching"><a href="#Use-next-themes-for-day-and-night-theme-switching" class="headerlink" title="Use next-themes for day and night theme switching."></a>Use next-themes for day and night theme switching.</h2><p>Have you seen websites that can switch between light and dark themes? We can also achieve this.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="next-themes" href="https://www.npmjs.com/package/next-themes" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">next-themes</span><span class="cap link footnote">https://www.npmjs.com/package/next-themes</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><h2 id="Connect-to-the-database-using-Prisma"><a href="#Connect-to-the-database-using-Prisma" class="headerlink" title="Connect to the database using Prisma."></a>Connect to the database using Prisma.</h2><p>Storing data in a file system or cache is one option, but using a database to store data is a more common choice.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="prisma" href="https://www.prisma.io/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">prisma</span><span class="cap link footnote">https://www.prisma.io/</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/354210/prisma.svg"></div></div></a></div><h2 id="Use-Next-Auth-for-authentication"><a href="#Use-Next-Auth-for-authentication" class="headerlink" title="Use Next-Auth for authentication."></a>Use Next-Auth for authentication.</h2><p>Authentication is a common feature in applications. Using Next-Auth eliminates the hassle of creating your own login and<br>registration pages, allowing you to focus on implementing authentication logic.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="next-auth" href="https://next-auth.js.org/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">next-auth</span><span class="cap link footnote">https://next-auth.js.org/</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><h2 id="Use-TipTap-as-a-rich-text-editor"><a href="#Use-TipTap-as-a-rich-text-editor" class="headerlink" title="Use TipTap as a rich text editor."></a>Use TipTap as a rich text editor.</h2><p>TipTap is a modern headless rich text editor that allows us to easily create attractive page content.</p><blockquote><p>How to customize TipTap through code? Check out my latest article (todo).</p></blockquote><div class="tag-plugin link dis-select"><a class="link-card plain" title="tiptap document" href="https://tiptap.dev/docs/editor/getting-started/overview" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">tiptap document</span><span class="cap link footnote">https://tiptap.dev/docs/editor/getting-started/overview</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div>]]></content>
    
    
    <summary type="html">Getting Started with Next.js - v13</summary>
    
    
    
    <category term="nextjs" scheme="https://malcode-site.github.io/categories/nextjs/"/>
    
    <category term="frontend" scheme="https://malcode-site.github.io/categories/nextjs/frontend/"/>
    
    
    <category term="nextjs" scheme="https://malcode-site.github.io/tags/nextjs/"/>
    
    <category term="frontend" scheme="https://malcode-site.github.io/tags/frontend/"/>
    
  </entry>
  
  <entry>
    <title>How to do SEO - For Beginners (en)</title>
    <link href="https://malcode-site.github.io/2024/08/25/how-to-SEO/en/"/>
    <id>https://malcode-site.github.io/2024/08/25/how-to-SEO/en/</id>
    <published>2024-08-24T23:07:24.000Z</published>
    <updated>2024-08-25T06:33:59.323Z</updated>
    
    <content type="html"><![CDATA[<h1 id="before"><a href="#before" class="headerlink" title="before"></a>before</h1><p>I am using Hexo to document my blog articles, but I haven’t found how to configure the internationalization of my<br>current theme appearance, so I write in a mix of Chinese and English.</p><p>(I will also try to write articles separately in full English and full Chinese). If you think my style is not very good,<br>please tell me how to improve in the comments section.</p><h1 id="What-is-SEO"><a href="#What-is-SEO" class="headerlink" title="What is SEO"></a>What is SEO</h1><p>SEO, which stands for Search Engine Optimization, involves utilizing various techniques and processes to enhance a<br>website’s natural ranking in search engine results pages (SERPs). This, in turn, increases targeted traffic to your site<br>or product, thereby boosting sales and revenue.</p><p>It is not a service that can simply be bought directly, nor is it an unchanging technology; rather, it is a decision<br>that requires continuous and effective effort.</p><p>Therefore, no one can definitively claim that their SEO strategy is the only effective one or absolutely universal.<br>However, I will provide you with some suggestions to offer viable references.</p><h1 id="SEO-Strategy-1-On-Page-SEO"><a href="#SEO-Strategy-1-On-Page-SEO" class="headerlink" title="SEO Strategy 1: On-Page SEO"></a>SEO Strategy 1: On-Page SEO</h1><p>On-page SEO refers to optimizing the content of your website to better serve users and enable search engines to more<br>effectively crawl and index your site.</p><h2 id="1-Optimize-the-Content-of-Copywriting"><a href="#1-Optimize-the-Content-of-Copywriting" class="headerlink" title="1. Optimize the Content of Copywriting"></a>1. Optimize the Content of Copywriting</h2><ul><li><strong>High-Quality Content</strong>:<br>High-quality content is essential. The better your content, the more users will stay and potentially explore more<br>information on your site. The longer users stay, the more search engine algorithms will consider your site’s content<br>to be user-centric and high-quality, thereby recommending it more to other potential users.</li><li><strong>Relevance</strong><br>Search engines analyze content based on its relevance to searches. When your site’s content is highly relevant to<br>users’ search keywords, your site’s ranking will improve.</li><li><strong>Good Readability Structure</strong><br>When we first read an article, our initial focus is often not on dense text but on prominent headlines. If you can<br>enhance the structure of your headlines, it will encourage users to look further instead of being intimidated by large<br>blocks of text.</li><li><strong>Alt Attributes in Images</strong><br>If you are a website programmer, providing alt attribute values for img tags is helpful. Search engine algorithms<br>associate alt values with images to better understand their content.</li><li><strong>Rel Attribute of Links</strong><br>If you are a website programmer, you can use the rel attribute of the a tag to explain to Google’s search engine the<br>relationship between your site and the linked page, preventing the tracking of certain advertisement links or other<br>potentially irrelevant information.<div class="tag-plugin link dis-select"><a class="link-card plain" title="More_Info" href="https://developers.google.com/search/docs/crawling-indexing/qualify-outbound-links" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">More_Info</span><span class="cap link footnote">https://developers.google.com/search/docs/crawling-indexing/qualify-outbound-links</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/475656/google-color.svg"></div></div></a></div></li></ul><h2 id="2-URL-Optimization"><a href="#2-URL-Optimization" class="headerlink" title="2. URL Optimization"></a>2. URL Optimization</h2><p>When we access a resource online, we always enter the corresponding URL into the website’s search bar. Imagine this: if<br>an image’s address is site.example&#x2F;?b&#x3D;fksdlfnwejl&amp;a&#x3D;jlfnhwnfgevrnv%dfa%fs%fsa, would you consider it trustworthy?<br>How about image.com&#x2F;img&#x2F;nature&#x2F;butterfly.png?</p><ul><li><strong>Make URLs Readable</strong><br>Simplify your URLs. If your website is a blog, using the blog name as part of the URL is a good idea, such as<br>site.com&#x2F;blogs&#x2F;how-to-seo&#x2F;</li><li><strong>Include Keywords in URLs</strong><br>Including keywords in the URL can help search engines recognize them and also let users know what type of content they<br>are about to see.</li></ul><h1 id="SEO-Strategy-2-Out-Page-SEO"><a href="#SEO-Strategy-2-Out-Page-SEO" class="headerlink" title="SEO Strategy 2: Out-Page SEO"></a>SEO Strategy 2: Out-Page SEO</h1><p>Off-page SEO refers to the SEO activities conducted outside your own website, such as publishing links on other websites<br>or sharing your site on social media platforms. Off-page SEO often requires time to accumulate and cannot be simply<br>achieved through purchasing or optimizing site content.</p><p>I will share a few viable strategies for off-page SEO:</p><ul><li><p><strong>Sharing</strong><br>Creating high-quality content is important, but it also needs to be seen by users. Write excellent articles and make<br>it<br>easy for your users to share your site (for example, use social sharing plugins on WordPress). This will increase your<br>influence.</p></li><li><p><strong>Good URLs</strong><br>Make your website’s URLs easy to share. If your website URL looks strange, external users may not click on it.</p></li><li><p><strong>Social Media Presence</strong><br>Social media is one of the most frequently used online services by modern people and inherently offers significant<br>exposure. Managing your website’s accounts well and sharing valuable content from your site on social platforms can<br>help you accumulate more customers.</p></li><li><p><strong>Building Backlinks</strong><br>Backlinks are links from one website page to another. If your content is good enough to be cited on external sites (or<br>if you post on other sites), this will bring you additional traffic.</p></li></ul><h1 id="SEO-tools"><a href="#SEO-tools" class="headerlink" title="SEO tools"></a>SEO tools</h1><ul><li><p><strong>semrush</strong> Keywords Mining&#x2F;Comprehensive Tools for Competitor Website Analysis</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="semrush" href="https://www.semrush.com/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">semrush</span><span class="cap link footnote">https://www.semrush.com/</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div></li><li><p><strong>moz</strong> Backlink Analysis Tools</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="moz" href="https://moz.com/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">moz</span><span class="cap link footnote">https://moz.com/</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/153949/moz.svg"></div></div></a></div></li><li><p><strong>Kwfinder</strong> Keywords Analysis Tools</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="kwfinder" href="https://mangools.com/kwfinder" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">kwfinder</span><span class="cap link footnote">https://mangools.com/kwfinder</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div></li><li><p><strong>Spinrewriter</strong> Translation English Pseudo-Original Tool</p></li><li><p><strong>LongTailPro</strong> Long Tail Keyword Analysis Tool</p></li><li><p><strong>WooRank</strong> Website SEO Optimization Evaluation</p></li><li><p><strong>Ubersuggest</strong> Comprehensive SEO Tool</p></li><li><p><strong>WordAI</strong> AI-generated pseudo-original content</p></li><li><p><strong>Indexification</strong> Accelerate the indexing of your English backlinks.</p></li><li><p><strong>Spamzilla</strong> Expired domain search, locate and purchase expired domains with existing backlinks.</p></li><li><p><strong>iSpionage</strong> Competitive intelligence analysis to enhance SEO optimization.</p></li><li><p><strong>StoryBase</strong> Long-tail keyword research tool.</p></li></ul><h1 id="more"><a href="#more" class="headerlink" title="more"></a>more</h1><p>Search engines are always evolving, and so must SEO strategies. This article may soon be outdated, but it can still<br>serve as a reference for decision-making.</p><p>This article cannot cover all the knowledge, but it provides a basic framework. For more in-depth SEO strategies, I<br>recommend further study in Google’s search engine documentation.</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="developers.google.com/search" href="https://developers.google.com/search/docs/fundamentals/seo-starter-guide" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">developers.google.com/search</span><span class="cap link footnote">https://developers.google.com/search/docs/fundamentals/seo-starter-guide</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/475656/google-color.svg"></div></div></a></div><h1 id="after-all"><a href="#after-all" class="headerlink" title="after all"></a>after all</h1><p>thanks for watch</p>]]></content>
    
    
    <summary type="html">How to do SEO - For Beginners (en)</summary>
    
    
    
    <category term="SEO" scheme="https://malcode-site.github.io/categories/SEO/"/>
    
    <category term="beginner" scheme="https://malcode-site.github.io/categories/SEO/beginner/"/>
    
    
    <category term="SEO" scheme="https://malcode-site.github.io/tags/SEO/"/>
    
    <category term="beginner" scheme="https://malcode-site.github.io/tags/beginner/"/>
    
  </entry>
  
  <entry>
    <title>如何做网站SEO - 面向初学者</title>
    <link href="https://malcode-site.github.io/2024/08/25/how-to-SEO/zh-cn/"/>
    <id>https://malcode-site.github.io/2024/08/25/how-to-SEO/zh-cn/</id>
    <published>2024-08-24T23:07:24.000Z</published>
    <updated>2024-08-25T04:45:20.237Z</updated>
    
    <content type="html"><![CDATA[<h1 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h1><p>我正在使用hexos记录我的博客文章, 但是我暂时没有找到如何对我当前的外观主题进行国际化配置, 所以我使用中英混合的方法写作<br>(我也会尝试全英和全中文分开写文章) 如果觉得我的风格不太好, 请在评论区告诉我如何改进</p><h1 id="什么是SEO"><a href="#什么是SEO" class="headerlink" title="什么是SEO"></a>什么是SEO</h1><p>SEO是Search Engine Optimization的简写, 它就是利用各种技术和过程，提高网站在搜索引擎结果页中的自然排名，<br>以增加网站的有针对性的流量, 从而为你的网站或你的产品提高销售额, 带来更多收益</p><p>它不是一种可以简单地直接购买的服务, 或者一种死板不变的技术, 它是一个需要持续性付出有效努力的决策.</p><p>所以, 没有任何一个人可以肯定地说, 我的SEO方案是唯一且有效的, 是绝对通用的. 但是, 我将给予你一些建议, 来为你提供可用的参考.</p><h1 id="SEO策略1-页内SEO"><a href="#SEO策略1-页内SEO" class="headerlink" title="SEO策略1: 页内SEO"></a>SEO策略1: 页内SEO</h1><p>页内SEO指的是针对你的网站的内容进行优化, 以更好地提供服务, 并让搜索引擎能够更好地抓取和检索到你的网站.</p><h2 id="1-优化文案内容"><a href="#1-优化文案内容" class="headerlink" title="1. 优化文案内容"></a>1. 优化文案内容</h2><ul><li><strong>高质量内容</strong>:<br>高质量的内容是很重要的, 当你的内容越优质, 用户越会留存, 并可能查看你的站点的更多信息, 用户停留的时间越长,<br>搜索引擎算法会认为你的网站内容是用户中心和高质量的, 并更多地为其他潜在用户推荐</li><li><strong>相关性</strong><br>搜索引擎会根据内容的搜索相关性来进行分析, 你的网站内容和用户的搜索关键词相关度高的时候, 你的网站排名会提高.</li><li><strong>良好易读结构</strong><br>当我们第一次阅读一篇文章, 最先关注的往往不是密集的文字, 而是显而易见的醒目标题, 如果能提高良好的标题结构, 会利用用户进行查看,<br>而不是被大段的文字吓退</li><li><strong>图片中的alt属性</strong><br>如果你是网站的编程人员, 那么, 为img标签提供alt属性值是有帮助的, 搜索引擎算法会将alt值和图片进行关联, 从而更好地理解图片内容</li><li><strong>链接Link的rel属性</strong><br>如果你是网站的编程人员, 你可以通过a标签的rel属性向谷歌搜索引擎说明您的网站与链接页之间的关系, 防止追踪某些广告链接等可能和内容无关的信息<div class="tag-plugin link dis-select"><a class="link-card plain" title="More_Info" href="https://developers.google.com/search/docs/crawling-indexing/qualify-outbound-links" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">More_Info</span><span class="cap link footnote">https://developers.google.com/search/docs/crawling-indexing/qualify-outbound-links</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/475656/google-color.svg"></div></div></a></div></li></ul><h2 id="2-URL优化"><a href="#2-URL优化" class="headerlink" title="2. URL优化"></a>2. URL优化</h2><p>当我们访问网络上的一个资源, 总是会在网站搜索框中输入对应的URL地址, 试想一下,<br>如果一个图片的地址是site.example&#x2F;?b&#x3D;fksdlfnwejl&amp;a&#x3D;jlfnhwnfgevrnv%dfa%fs%fsa,<br>你会它真实可信吗<br>如果是image.com&#x2F;img&#x2F;nature&#x2F;butterfly.png呢</p><ul><li><strong>让URL具有易读性</strong><br>简化你的URL, 如果你的网站是博客网站, 那么用博客名称作为url的一部分是不错的, 比如site.com&#x2F;blogs&#x2F;how-to-seo&#x2F;</li><li><strong>URL中放入关键词</strong><br>在URL中放入关键词可用方便搜索引擎识别, 也可以让用户明确他将要看到的是什么类型的内容</li></ul><h1 id="SEO策略2-页外SEO"><a href="#SEO策略2-页外SEO" class="headerlink" title="SEO策略2: 页外SEO"></a>SEO策略2: 页外SEO</h1><p>页外SEO就是在你站点之外进行的SEO操作, 比如在他人网站上发布链接&#x2F;在社交平台分享你的网站…, 页外SEO往往需要时间的积累,<br>不是可以简单购买或优化站点内容就能做到的</p><p>我将分享几点页外SEO的可行策略:</p><ul><li><p><strong>分享(Sharing)</strong><br>创造优质的内容固然重要, 但是也需要让用户可以看到, 写下优质的文章, 并且让你的用户可以轻松地分享你的站点<br>(比如在wordpress上使用社交分享插件), 这将增加你的影响力</p></li><li><p><strong>良好的URL(Good URLs)</strong><br>让你的网站的URL易于分享, 如果你的网站URL看起来很奇怪, 外部用户可能不会点开</p></li><li><p><strong>在社交媒体上运营(Social Media Presence)</strong><br>社交媒体是现代人最常使用的网络服务, 天生就可以带来巨大曝光量, 运营好你的网站账号, 分享有价值的站点内容到社交平台上,<br>可以帮助你积累更多客户</p></li><li><p><strong>建立反向链接(Building Backlinks)</strong><br>反向链接是从一个网站上的页面到另一个网站的链接, 如果你的内容够好, 在外部网站中被引用(或者你发布到别的网站上),<br>这将会给你带来额外的流量.</p></li></ul><h1 id="SEO工具"><a href="#SEO工具" class="headerlink" title="SEO工具"></a>SEO工具</h1><ul><li><p><strong>semrush</strong> 关键词挖掘&#x2F;同行网站分析等综合性工具</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="semrush" href="https://www.semrush.com/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">semrush</span><span class="cap link footnote">https://www.semrush.com/</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div></li><li><p><strong>moz</strong> 外链分析工具</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="moz" href="https://moz.com/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">moz</span><span class="cap link footnote">https://moz.com/</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/153949/moz.svg"></div></div></a></div></li><li><p><strong>Kwfinder</strong> 关键词分析工具</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="kwfinder" href="https://mangools.com/kwfinder" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">kwfinder</span><span class="cap link footnote">https://mangools.com/kwfinder</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div></li><li><p><strong>Spinrewriter</strong> 英文伪原创工具</p></li><li><p><strong>LongTailPro</strong> 长尾关键词分析工具</p></li><li><p><strong>WooRank</strong> 网站SEO优化评估</p></li><li><p><strong>Ubersuggest</strong> 综合SEO工具</p></li><li><p><strong>WordAI</strong> 基于AI生成伪原创内容</p></li><li><p><strong>Indexification</strong> 让你的英文外链更快被收录</p></li><li><p><strong>Spamzilla</strong> 过期域名检索, 寻找并购买带外链的过期域名 .</p></li><li><p><strong>iSpionage</strong> 竞争情报分析, 助力优化SEO</p></li><li><p><strong>StoryBase</strong> 长尾关键词研究工具</p></li></ul><h1 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h1><p>搜索引擎总是在变化的, SEO策略也要与时俱进, 本篇文章或许不久就会过时, 但是你依然可以作为决策的参考.</p><p>本篇文章不可能将所有的知识写出来, 但是提供了一个基本的框架. 为了学习更多更深入的SEO方案, 我推荐你去Google的搜索引擎文档中进一步的学习</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="developers.google.com/search" href="https://developers.google.com/search/docs/fundamentals/seo-starter-guide" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill=""><div class="left"><span class="title">developers.google.com/search</span><span class="cap link footnote">https://developers.google.com/search/docs/fundamentals/seo-starter-guide</span></div><div class="right"><div class="lazy img" data-bg="https://www.svgrepo.com/show/475656/google-color.svg"></div></div></a></div><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>感谢你的观看 </p>]]></content>
    
    
    <summary type="html">如何做网站SEO - 面向初学者</summary>
    
    
    
    <category term="SEO" scheme="https://malcode-site.github.io/categories/SEO/"/>
    
    <category term="beginner" scheme="https://malcode-site.github.io/categories/SEO/beginner/"/>
    
    
    <category term="SEO" scheme="https://malcode-site.github.io/tags/SEO/"/>
    
    <category term="beginner" scheme="https://malcode-site.github.io/tags/beginner/"/>
    
  </entry>
  
  <entry>
    <title>byd</title>
    <link href="https://malcode-site.github.io/2024/08/24/%E6%B5%8B%E8%AF%95/byd/"/>
    <id>https://malcode-site.github.io/2024/08/24/%E6%B5%8B%E8%AF%95/byd/</id>
    <published>2024-08-24T01:50:28.000Z</published>
    <updated>2024-08-24T23:07:02.380Z</updated>
    
    <content type="html"><![CDATA[<h1 id="byd-test"><a href="#byd-test" class="headerlink" title="byd test"></a>byd test</h1><p>a test</p><h2 id="image"><a href="#image" class="headerlink" title="image"></a>image</h2><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/getqrcode.png" alt="我的公众号" data-fancybox="true"/><a class="image-download blur" style="opacity:0" target="_blank" download="我的公众号" href="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/getqrcode.png"><svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3734"><path d="M561.00682908 685.55838913a111.03077546 111.03077546 0 0 1-106.8895062 0L256.23182837 487.72885783a55.96309219 55.96309219 0 0 1 79.13181253-79.18777574L450.70357448 523.88101491V181.55477937a55.96309219 55.96309219 0 0 1 111.92618438 0v344.06109173l117.07478902-117.07478901a55.96309219 55.96309219 0 0 1 79.13181252 79.18777574zM282.81429711 797.1487951h447.70473912a55.96309219 55.96309219 0 0 1 0 111.92618438H282.81429711a55.96309219 55.96309219 0 0 1 0-111.92618438z" p-id="3735"></path></svg></a></div><div class="image-meta"><span class="image-caption center">我的公众号</span></div></div><div class="tag-plugin image"><div class="image-bg"><img src="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/logo%20(1).png" alt="logo" data-fancybox="true"/><a class="image-download blur" style="opacity:0" target="_blank" download="logo" href="https://raw.githubusercontent.com/malred/malcode-site-photos/master/img/logo%20(1).png"><svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3734"><path d="M561.00682908 685.55838913a111.03077546 111.03077546 0 0 1-106.8895062 0L256.23182837 487.72885783a55.96309219 55.96309219 0 0 1 79.13181253-79.18777574L450.70357448 523.88101491V181.55477937a55.96309219 55.96309219 0 0 1 111.92618438 0v344.06109173l117.07478902-117.07478901a55.96309219 55.96309219 0 0 1 79.13181252 79.18777574zM282.81429711 797.1487951h447.70473912a55.96309219 55.96309219 0 0 1 0 111.92618438H282.81429711a55.96309219 55.96309219 0 0 1 0-111.92618438z" p-id="3735"></path></svg></a></div><div class="image-meta"><span class="image-caption center">logo</span></div></div><p>宽度较小而高度较大的图片，可以设置宽、高、填充间距、背景色等对其布局进行优化，使得它在不同宽度的屏幕下都能获得不错的视觉体验：</p><div class="tag-plugin image"><div class="image-bg" style="background:white;padding:16px;"><img src="/assets/xaoxuu/mirror/apple/documentation/watchkit/06d45110-1dd7-49a4-a413-9f5159ecdd0e.png" data-fancybox="true" style="width:200px;"/></div></div><p>可以设置填充宽度和颜色，支持 bg:var(–card) 动态颜色，能够适配暗黑模式：</p><div class="tag-plugin image"><div class="image-bg" style="background:var(--card);padding:16px;"><img src="/assets/wiki/stellar/icon.svg" data-fancybox="true"/></div></div><h2 id="emoji"><a href="#emoji" class="headerlink" title="emoji"></a>emoji</h2><p><a href="https://gcore.jsdelivr.net/gh/cdn-x/emoji/">more emoji</a></p><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/cdn-x/emoji/qq/爱你.gif"/></span><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatattentionreverse.png"/></span><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/cdn-x/emoji/tieba/滑稽.png"/></span><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/cdn-x/emoji/qq/K歌.gif"/></span><center><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatrainbow.png" style="height:1em"/></span><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatrainbow.png" style="height:2em"/></span><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatrainbow.png" style="height:3em"/></span><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatrainbow.png" style="height:2em"/></span><span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatrainbow.png" style="height:1em"/></span></center><h2 id="icon-图标标签"><a href="#icon-图标标签" class="headerlink" title="icon 图标标签"></a>icon 图标标签</h2><p><a href="https://icon-sets.iconify.design/">more icon</a><br>icons.yml 中的图标：<span class="tag-plugin icon colorful" color="accent"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M20 12a8 8 0 1 1-16 0a8 8 0 0 1 16 0" opacity=".5"/><path fill="currentColor" d="M17.712 5.453c1.047-.193 2.006-.259 2.797-.152c.77.103 1.536.393 1.956 1.064c.446.714.312 1.542-.012 2.258c-.33.728-.918 1.499-1.672 2.268c-1.516 1.547-3.836 3.226-6.597 4.697c-2.763 1.472-5.495 2.484-7.694 2.92c-1.095.217-2.098.299-2.923.201c-.8-.095-1.6-.383-2.032-1.075c-.47-.752-.296-1.63.07-2.379c.375-.768 1.032-1.586 1.872-2.403L4 12.416c0 .219.083.71.168 1.146c.045.23.09.444.123.596c-.652.666-1.098 1.263-1.339 1.756c-.277.567-.208.825-.145.925c.072.116.305.305.937.38c.609.073 1.44.018 2.455-.183c2.02-.4 4.613-1.351 7.28-2.772c2.667-1.42 4.85-3.015 6.23-4.423c.694-.707 1.15-1.334 1.377-1.836c.233-.515.167-.75.107-.844c-.07-.112-.289-.294-.883-.374c-.542-.072-1.272-.041-2.163.112L16.87 5.656c.338-.101.658-.17.842-.203"/></svg></span><br>外链图标：<span class="tag-plugin icon colorful" color="accent"><img  src="https://api.iconify.design/solar:link-circle-bold.svg" /></span><br>指定颜色：<span class="tag-plugin icon colorful" color="red"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 256 256"><path fill="currentColor" d="M225.86 102.82c-3.77-3.94-7.67-8-9.14-11.57c-1.36-3.27-1.44-8.69-1.52-13.94c-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52c-3.56-1.47-7.63-5.37-11.57-9.14C146.28 23.51 138.44 16 128 16s-18.27 7.51-25.18 14.14c-3.94 3.77-8 7.67-11.57 9.14c-3.25 1.36-8.69 1.44-13.94 1.52c-9.76.15-20.82.31-28.51 8s-7.8 18.75-8 28.51c-.08 5.25-.16 10.67-1.52 13.94c-1.47 3.56-5.37 7.63-9.14 11.57C23.51 109.72 16 117.56 16 128s7.51 18.27 14.14 25.18c3.77 3.94 7.67 8 9.14 11.57c1.36 3.27 1.44 8.69 1.52 13.94c.15 9.76.31 20.82 8 28.51s18.75 7.85 28.51 8c5.25.08 10.67.16 13.94 1.52c3.56 1.47 7.63 5.37 11.57 9.14c6.9 6.63 14.74 14.14 25.18 14.14s18.27-7.51 25.18-14.14c3.94-3.77 8-7.67 11.57-9.14c3.27-1.36 8.69-1.44 13.94-1.52c9.76-.15 20.82-.31 28.51-8s7.85-18.75 8-28.51c.08-5.25.16-10.67 1.52-13.94c1.47-3.56 5.37-7.63 9.14-11.57c6.63-6.9 14.14-14.74 14.14-25.18s-7.51-18.27-14.14-25.18M128 192a12 12 0 1 1 12-12a12 12 0 0 1-12 12m8-48.72v.72a8 8 0 0 1-16 0v-8a8 8 0 0 1 8-8c13.23 0 24-9 24-20s-10.77-20-24-20s-24 9-24 20v4a8 8 0 0 1-16 0v-4c0-19.85 17.94-36 40-36s40 16.15 40 36c0 17.38-13.76 31.93-32 35.28"/></svg></span></p><h2 id="mark"><a href="#mark" class="headerlink" title="mark"></a>mark</h2><p>支持多彩标记，包括：</p><mark class="tag-plugin colorful mark" color="yellow">默认</mark><mark class="tag-plugin colorful mark" color="red">红</mark><mark class="tag-plugin colorful mark" color="orange">橙</mark><mark class="tag-plugin colorful mark" color="yellow">黄</mark><mark class="tag-plugin colorful mark" color="green">绿</mark><mark class="tag-plugin colorful mark" color="cyan">青</mark><mark class="tag-plugin colorful mark" color="blue">蓝</mark><mark class="tag-plugin colorful mark" color="purple">紫</mark><mark class="tag-plugin colorful mark" color="light">亮</mark><mark class="tag-plugin colorful mark" color="dark">暗</mark><mark class="tag-plugin colorful mark" color="warning">警告</mark><mark class="tag-plugin colorful mark" color="error">错误</mark> 一共 12 种颜色。<h2 id="hashtag-标签"><a href="#hashtag-标签" class="headerlink" title="hashtag 标签"></a>hashtag 标签</h2><p>如果没有指定颜色，且没有设置默认颜色，则随机取一个颜色，快来试试吧～</p><a class="tag-plugin colorful hashtag" color="red" href="https://xaoxuu.com/wiki/stellar/"><svg t="1701408144765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4228" width="200" height="200"><path d="M426.6 64.8c34.8 5.8 58.4 38.8 52.6 73.6l-19.6 117.6h190.2l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6s58.4 38.8 52.6 73.6l-19.4 117.6H896c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-42.6 256H832c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.6-117.4h-190.4l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.4-117.8H128c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l42.6-256H192c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6z m11.6 319.2l-42.6 256h190.2l42.6-256h-190.2z" p-id="4229"></path></svg><span>Stellar</span></a><a class="tag-plugin colorful hashtag" color="orange" href="https://hexo.io/"><svg t="1701408144765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4228" width="200" height="200"><path d="M426.6 64.8c34.8 5.8 58.4 38.8 52.6 73.6l-19.6 117.6h190.2l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6s58.4 38.8 52.6 73.6l-19.4 117.6H896c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-42.6 256H832c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.6-117.4h-190.4l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.4-117.8H128c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l42.6-256H192c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6z m11.6 319.2l-42.6 256h190.2l42.6-256h-190.2z" p-id="4229"></path></svg><span>Hexo</span></a><a class="tag-plugin colorful hashtag" color="yellow" href="https://github.com/xaoxuu/"><svg t="1701408144765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4228" width="200" height="200"><path d="M426.6 64.8c34.8 5.8 58.4 38.8 52.6 73.6l-19.6 117.6h190.2l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6s58.4 38.8 52.6 73.6l-19.4 117.6H896c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-42.6 256H832c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.6-117.4h-190.4l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.4-117.8H128c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l42.6-256H192c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6z m11.6 319.2l-42.6 256h190.2l42.6-256h-190.2z" p-id="4229"></path></svg><span>GitHub</span></a><a class="tag-plugin colorful hashtag" color="green" href="https://git.xaox.cc/"><svg t="1701408144765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4228" width="200" height="200"><path d="M426.6 64.8c34.8 5.8 58.4 38.8 52.6 73.6l-19.6 117.6h190.2l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6s58.4 38.8 52.6 73.6l-19.4 117.6H896c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-42.6 256H832c35.4 0 64 28.6 64 64s-28.6 64-64 64h-137.8l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.6-117.4h-190.4l-23 138.6c-5.8 34.8-38.8 58.4-73.6 52.6s-58.4-38.8-52.6-73.6l19.4-117.8H128c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l42.6-256H192c-35.4 0-64-28.6-64-64s28.6-64 64-64h137.8l23-138.6c5.8-34.8 38.8-58.4 73.6-52.6z m11.6 319.2l-42.6 256h190.2l42.6-256h-190.2z" p-id="4229"></path></svg><span>Gitea</span></a><h2 id="quote"><a href="#quote" class="headerlink" title="quote"></a>quote</h2><p>适合居中且醒目的引用：<div class="tag-plugin quot"><p class="content" type="text"><span class="empty"></span><span class="text">Stellar 是迄今为止最好用的主题</span><span class="empty"></span></p></div><br>支持自定义引号：<div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e07da3.png" /><span class="text">热门话题</span><span class="empty"></span></p></div>、<div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e092ff.png" /><span class="text">特别引用</span><img class="icon prefix" src="https://bu.dusays.com/2022/10/24/63567d3e0ab55.png" /></p></div><br>此外，加上 el:h2&#x2F;h3&#x2F;h4&#x2F;h5&#x2F;h6 可以作为标题使用</p><h3 id="任意图标引用"><a href="#任意图标引用" class="headerlink" title="任意图标引用"></a>任意图标引用</h3><div class="tag-plugin quot"><p class="content" type="icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M20 12a8 8 0 1 1-16 0a8 8 0 0 1 16 0" opacity=".5"/><path fill="currentColor" d="M17.712 5.453c1.047-.193 2.006-.259 2.797-.152c.77.103 1.536.393 1.956 1.064c.446.714.312 1.542-.012 2.258c-.33.728-.918 1.499-1.672 2.268c-1.516 1.547-3.836 3.226-6.597 4.697c-2.763 1.472-5.495 2.484-7.694 2.92c-1.095.217-2.098.299-2.923.201c-.8-.095-1.6-.383-2.032-1.075c-.47-.752-.296-1.63.07-2.379c.375-.768 1.032-1.586 1.872-2.403L4 12.416c0 .219.083.71.168 1.146c.045.23.09.444.123.596c-.652.666-1.098 1.263-1.339 1.756c-.277.567-.208.825-.145.925c.072.116.305.305.937.38c.609.073 1.44.018 2.455-.183c2.02-.4 4.613-1.351 7.28-2.772c2.667-1.42 4.85-3.015 6.23-4.423c.694-.707 1.15-1.334 1.377-1.836c.233-.515.167-.75.107-.844c-.07-.112-.289-.294-.883-.374c-.542-.072-1.272-.041-2.163.112L16.87 5.656c.338-.101.658-.17.842-.203"/></svg><span class="text">这是一个 icons.yml 配置的示例</span><span class="empty"></span></p></div><div class="tag-plugin quot"><p class="content" type="icon"><img class="icon prefix" src="https://api.iconify.design/line-md:moon-alt-to-sunny-outline-loop-transition.svg" /><span class="text">这是一个 url 的示例</span><img class="icon prefix" src="https://api.iconify.design/solar:list-heart-minimalistic-line-duotone.svg" /></p></div><h2 id="诗词"><a href="#诗词" class="headerlink" title="诗词"></a>诗词</h2><div class="tag-plugin poetry"><div class="content"><div class="title">游山西村</div><div class="meta"><span>陆游</span></div><div class="body"><p>莫笑农家腊酒浑，丰年留客足鸡豚。<br><strong>山重水复疑无路，柳暗花明又一村。</strong><br>箫鼓追随春社近，衣冠简朴古风存。<br>从今若许闲乘月，拄杖无时夜叩门。</p></div><div class="footer">诗词节选</div></div></div><h2 id="paper-纸张标签"><a href="#paper-纸张标签" class="headerlink" title="paper 纸张标签"></a>paper 纸张标签</h2><div class="tag-plugin paper"><div class="content underline"><div class="title">文言文</div><div class="body"><div class="line"><p>出师表</p></div><div class="paragraph"><p>先帝创业未半而中道崩殂，今天下三分，益州疲弊，此诚危急存亡之秋也。然侍卫之臣不懈于内，忠志之士忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气，不宜妄自菲薄，引喻失义，以塞忠谏之路也。</p></div><div class="line right"><p>后出师表</p></div><div class="paragraph"><p>先帝深虑汉、贼不两立，王业不偏安，故托臣以讨贼也。以先帝之明，量臣之才，固知臣伐贼，才弱敌强也。然不伐贼，王业亦亡。惟坐而待亡，孰与伐之？是故托臣而弗疑也。</p></div></div><div class="footer"><div class="author-date"><span class="author">诸葛亮</span><span class="date">三国</span></div>节选</div></div></div><h2 id="reel-卷轴"><a href="#reel-卷轴" class="headerlink" title="reel 卷轴"></a>reel 卷轴</h2><div class="tag-plugin reel"><div class="content"><div class="title">滕王阁序</div><div class="meta"><span>王勃</span></div><div class="body"><div class="main"><p>时维九月，序属三秋。<br>潦水尽而寒潭清，烟光凝而暮山紫。<br>俨骖騑于上路，访风景于崇阿。<br>临帝子之长洲，得天人之旧馆。<br>层峦耸翠，上出重霄；<br>飞阁流丹，下临无地。<br>鹤汀凫渚，穷岛屿之萦回；<br>桂殿兰宫，即冈峦之体势。</p></div></div><div class="date">重九日</div><div class="footer">节选</div></div></div><p>可选参数<br>title: # 标题<br>author: # 作者<br>date: # 日期<br>footer: # 页脚信息</p><h2 id="note-备注块"><a href="#note-备注块" class="headerlink" title="note 备注块"></a>note 备注块</h2><p>title: 标题（可选）<br>content: 内容<br>color: red&#x2F;orange&#x2F;yellow&#x2F;green&#x2F;cyan&#x2F;blue&#x2F;purple&#x2F;light&#x2F;dark&#x2F;warning&#x2F;error</p><div class="tag-plugin colorful note" ><div class="title">[title]</div><div class="body"><p>content [color:color]</p></div></div><h3 id="具有标题的备注块"><a href="#具有标题的备注块" class="headerlink" title="具有标题的备注块"></a>具有标题的备注块</h3><p>直接写备注内容，默认是和代码块一样的样式，第一个空格前面的是标题，后面的是正文，如果标题中需要显示空格，请使用 &nbsp; 代替。</p><div class="tag-plugin colorful note" ><div class="title">这&nbsp;是标题</div><div class="body"><p>这是正文 哈哈。</p></div></div><h3 id="彩色备注块"><a href="#彩色备注块" class="headerlink" title="彩色备注块"></a>彩色备注块</h3><div class="tag-plugin colorful note" ><div class="title">一共支持12种颜色，可以满足几乎所有的需求了。</div><div class="body"><p>color 可设置 red、orange、amber、yellow、green、cyan、blue、purple、light、dark、warning、error 几种取值。</p></div></div><div class="tag-plugin colorful note" color="cyan"><div class="title">一共支持12种颜色，可以满足几乎所有的需求了。</div><div class="body"><p>color 可设置 red、orange、amber、yellow、green、cyan、blue、purple、light、dark、warning、error 几种取值。</p></div></div><h2 id="导航栏"><a href="#导航栏" class="headerlink" title="导航栏"></a>导航栏</h2><div class="tag-plugin navbar"><nav><a class="link" href="/">文章</a><a class="link active" href="/wiki/">项目</a><a class="link" href="#comments">留言</a><a class="link" href="https://github.com/xaoxuu/">GitHub</a></nav></div><h2 id="复制行"><a href="#复制行" class="headerlink" title="复制行"></a>复制行</h2><div class="tag-plugin copy"><input class="copy-area" id="copy_1" value="curl -s https://sh.xaox.cc/install | sh"><button class="copy-btn" onclick="util.copy(&quot;copy_1&quot;,&quot;复制成功&quot;)"><svg class="icon copy-btn" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path></svg></button></div><div class="tag-plugin copy"><span>$</span><input class="copy-area" id="copy_2" value="curl -s https://sh.xaox.cc/install | sh"><button class="copy-btn" onclick="util.copy(&quot;copy_2&quot;,&quot;复制成功&quot;)"><svg class="icon copy-btn" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path></svg></button></div><div class="tag-plugin copy"><input class="copy-area" id="copy_3" value="https://github.com/xaoxuu.com/hexo-theme-stellar.git"><button class="copy-btn" onclick="util.copy(&quot;copy_3&quot;,&quot;复制成功&quot;)"><svg class="icon copy-btn" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path></svg></button></div><div class="tag-plugin copy"><input class="copy-area" id="copy_4" value="git@github.com:xaoxuu.com/hexo-theme-stellar.git"><button class="copy-btn" onclick="util.copy(&quot;copy_4&quot;,&quot;复制成功&quot;)"><svg class="icon copy-btn" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path></svg></button></div><div class="tag-plugin copy"><input class="copy-area" id="copy_5" value="gh repo clone xaoxuu.com/hexo-theme-stellar"><button class="copy-btn" onclick="util.copy(&quot;copy_5&quot;,&quot;复制成功&quot;)"><svg class="icon copy-btn" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.75 1a.75.75 0 00-.75.75v3c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-3a.75.75 0 00-.75-.75h-4.5zm.75 3V2.5h3V4h-3zm-2.874-.467a.75.75 0 00-.752-1.298A1.75 1.75 0 002 3.75v9.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-9.5a1.75 1.75 0 00-.874-1.515.75.75 0 10-.752 1.298.25.25 0 01.126.217v9.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-9.5a.25.25 0 01.126-.217z"></path></svg></button></div><h2 id="目标管理"><a href="#目标管理" class="headerlink" title="目标管理"></a>目标管理</h2><div class="tag-plugin colorful okr" >  <div class="okr-item o" id="okr-o1">    <div class="okr-left">      <span class="title">O1</span>    </div>    <div class="okr-center">      <span class="title">2024年的小目标：完成 Volantis 6.0 并发布上线</span>      <div class="note"><p>来自2025年的复盘：已《基本》实现目标 <span class="tag-plugin emoji"><img no-lazy="" class="inline" src="https://gcore.jsdelivr.net/gh/cdn-x/emoji/tieba/滑稽.png"/></span></p></div>    </div>    <div class="okr-right colorful" color="blue">      <div class="labels">        <span class="status label">正常</span>        <span class="status percent">44%</span>      </div>      <div class="progress">        <div class="fill" style="width:44%;"></div>      </div>    </div>  </div>    <div class="okr-item kr" id="okr-kr1">    <div class="okr-left">      <span class="title">KR1</span>    </div>    <div class="okr-center">      <span class="title">重构 tag-plugins 和 wiki 系统</span>      <div class="note"><ul><li>当 <mark class="tag-plugin colorful mark" color="yellow">KR</mark> 进度为 100% 时，标签默认显示为 <mark class="tag-plugin colorful mark" color="green">已完成</mark></li><li>当 <mark class="tag-plugin colorful mark" color="yellow">KR</mark> 未设置进度时，默认为 <mark class="tag-plugin colorful mark" color="yellow">0%</mark></li><li>当 <mark class="tag-plugin colorful mark" color="yellow">O</mark> 未设置进度时，则显示所有 <mark class="tag-plugin colorful mark" color="yellow">KR</mark> 进度平均值</li></ul></div>    </div>    <div class="okr-right colorful" color="green">      <div class="labels">        <span class="status label">已完成</span>        <span class="status percent">100%</span>      </div>      <div class="progress">        <div class="fill" style="width:100%;"></div>      </div>    </div>  </div>    <div class="okr-item kr" id="okr-kr2">    <div class="okr-left">      <span class="title">KR2</span>    </div>    <div class="okr-center">      <span class="title">完成主要页面设计稿</span>      <div class="note"><div class="tag-plugin tabs" align="left"id="tab_1"><div class="nav-tabs"><div class="tab active"><a href="#tab_1-1">小提示1</a></div><div class="tab"><a href="#tab_1-2">小提示2</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_1-1"><p>您可以在 _config.yml 文件中修改标签的颜色和文案</p></div><div class="tab-pane" id="tab_1-2"><p>您可以在 _config.yml 文件中增加任意的标签配置</p></div></div></div></div>    </div>    <div class="okr-right colorful" color="orange">      <div class="labels">        <span class="status label">延期</span>        <span class="status percent">90%</span>      </div>      <div class="progress">        <div class="fill" style="width:90%;"></div>      </div>    </div>  </div>    <div class="okr-item kr" id="okr-kr3">    <div class="okr-left">      <span class="title">KR3</span>    </div>    <div class="okr-center">      <span class="title">完成前置准备工作（如果你知道答案，请在留言区帮帮我！🥹）</span>      <div class="note"><div class="tag-plugin colorful checkbox" ><input type="checkbox"/><span>在咸水和海滩之间找一亩地</span></div><div class="tag-plugin colorful checkbox" ><input type="checkbox"/><span>求出圆周率后15位</span></div><div class="tag-plugin colorful checkbox" ><input type="checkbox"/><span>找出宇宙的终极逻辑</span></div><div class="tag-plugin colorful checkbox" ><input type="checkbox"/><span>去地狱里走两步</span></div></div>    </div>    <div class="okr-right colorful" color="red">      <div class="labels">        <span class="status label">未完成</span>        <span class="status percent">-12%</span>      </div>      <div class="progress">        <div class="fill" style="width:-12%;"></div>      </div>    </div>  </div>    <div class="okr-item kr" id="okr-kr-4">    <div class="okr-left">      <span class="title">KR-4</span>    </div>    <div class="okr-center">      <span class="title">开发、测试和发布</span>      <div class="note"><div class="tag-plugin image"><div class="image-bg"><img src="/assets/wiki/stellar/icon.svg" alt="支持嵌套插入图片等其它简单组件" data-fancybox="true" style="height:64px;"/></div><div class="image-meta"><span class="image-caption center">支持嵌套插入图片等其它简单组件</span></div></div></div>    </div>    <div class="okr-right colorful" color="yellow">      <div class="labels">        <span class="status label">风险</span>        <span class="status percent">0%</span>      </div>      <div class="progress">        <div class="fill" style="width:0%;"></div>      </div>    </div>  </div>  </div><h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><div class="tag-plugin link dis-select"><a class="link-card plain" title="[title] [icon:src] [desc:true/false]" href="href" cardlink autofill="icon"><div class="left"><span class="title">[title] [icon:src] [desc:true/false]</span><span class="cap link footnote">https://malcode-site.github.io/href</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><p>不带摘要的样式：</p><div class="tag-plugin link dis-select"><a class="link-card plain" title="" href="https://xaoxuu.com/blog/20221029/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon"><div class="left"><span class="title">https://xaoxuu.com/blog/20221029/</span><span class="cap link footnote">https://xaoxuu.com/blog/20221029/</span></div><div class="right"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div></div></a></div><p>带摘要的样式：</p><div class="tag-plugin link dis-select"><a class="link-card rich" title="" href="https://xaoxuu.com/blog/20221029/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon,desc"><div class="top"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div><span class="cap link footnote">https://xaoxuu.com/blog/20221029/</span></div><div class="bottom"><span class="title">https://xaoxuu.com/blog/20221029/</span><span class="cap desc footnote"></span></div></a></div><div class="tag-plugin colorful note" ><div class="title">写法</div><div class="body"><p>href: 链接<br> title: 可选，手动设置标题（为空时会自动抓取页面标题）<br> icon: 可选，手动设置图标（为空时会自动抓取页面图标）<br> desc: 可选，是否显示摘要描述，为true时将会显示页面描述</p></div></div><h2 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h2><a class="tag-plugin colorful button" color="theme" title="探索" href="https://github.com/xaoxuu/hexo-theme-stellar/"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M20 12a8 8 0 1 1-16 0a8 8 0 0 1 16 0" opacity=".5"/><path fill="currentColor" d="M17.712 5.453c1.047-.193 2.006-.259 2.797-.152c.77.103 1.536.393 1.956 1.064c.446.714.312 1.542-.012 2.258c-.33.728-.918 1.499-1.672 2.268c-1.516 1.547-3.836 3.226-6.597 4.697c-2.763 1.472-5.495 2.484-7.694 2.92c-1.095.217-2.098.299-2.923.201c-.8-.095-1.6-.383-2.032-1.075c-.47-.752-.296-1.63.07-2.379c.375-.768 1.032-1.586 1.872-2.403L4 12.416c0 .219.083.71.168 1.146c.045.23.09.444.123.596c-.652.666-1.098 1.263-1.339 1.756c-.277.567-.208.825-.145.925c.072.116.305.305.937.38c.609.073 1.44.018 2.455-.183c2.02-.4 4.613-1.351 7.28-2.772c2.667-1.42 4.85-3.015 6.23-4.423c.694-.707 1.15-1.334 1.377-1.836c.233-.515.167-.75.107-.844c-.07-.112-.289-.294-.883-.374c-.542-.072-1.272-.041-2.163.112L16.87 5.656c.338-.101.658-.17.842-.203"/></svg><span>探索</span></a><h2 id="单选"><a href="#单选" class="headerlink" title="单选"></a>单选</h2><div class="tag-plugin colorful checkbox" ><input type="radio"/><span>没有勾选的单选框</span></div><div class="tag-plugin colorful checkbox" ><input type="radio" checked="true"/><span>已勾选的单选框</span></div><h2 id="多选"><a href="#多选" class="headerlink" title="多选"></a>多选</h2><div class="tag-plugin colorful checkbox" ><input type="checkbox"/><span>普通的没有勾选的复选框</span></div><div class="tag-plugin colorful checkbox" ><input type="checkbox" checked="true"/><span>普通的已勾选的复选框</span></div><div class="tag-plugin colorful checkbox" color="green" symbol="plus"><input type="checkbox" checked="true"/><span>显示为加号的绿色的已勾选的复选框</span></div><div class="tag-plugin colorful checkbox" color="yellow" symbol="minus"><input type="checkbox" checked="true"/><span>显示为减号的黄色的已勾选的复选框</span></div><div class="tag-plugin colorful checkbox" color="red" symbol="times"><input type="checkbox" checked="true"/><span>显示为乘号的红色的已勾选的复选框</span></div><h2 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h2>  <div class="tag-plugin audio">  <audio controls preload>  <source src="https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3" type="audio/mp3">Your browser does not support the audio tag.  </audio>  </div>      <div class="tag-plugin audio">    <iframe src="//music.163.com/outchain/player?type=2&id=1856385686&auto=0&height=32" frameborder="no" border="0" marginwidth="0" marginheight="0" width=288px height=52>    </iframe>    </div>        <div class="tag-plugin audio">    <iframe src="//music.163.com/outchain/player?type=2&id=1856385686&auto=0&height=32" frameborder="no" border="0" marginwidth="0" marginheight="0" width=288px height=52>    </iframe>    </div>    <h2 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h2><div class="tag-plugin video" style="aspect-ratio:1.7777777777777777;max-width:100%;">    <iframe src="https://player.bilibili.com/player.html?bvid=BV1GP4y1d729&autoplay=false" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">    </iframe>    </div>    <div class="tag-plugin video" style="aspect-ratio:1.7777777777777777;max-width:100%;">    <iframe src="https://player.bilibili.com/player.html?bvid=BV1GP4y1d729&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true">    </iframe>    </div>    <div class="tag-plugin video" style="aspect-ratio:1.7777777777777777;max-width:100%;">    <iframe src="https://www.youtube.com/embed/LB8KwiiUGy0?rel=0&color=white&disablekb=1&playsinline=1&&rel=0&autoplay=0" picture-in-picture="true" allowfullscreen="true" >    </iframe>    </div>    <div class="tag-plugin video" style="aspect-ratio:1.7777777777777777;max-width:100%;">    <iframe src="https://www.youtube.com/embed/LB8KwiiUGy0?rel=0&color=white&disablekb=1&playsinline=1&&rel=0&autoplay=0" picture-in-picture="true" allowfullscreen="true" >    </iframe>    </div>    <div class="tag-plugin grid"  style="grid-template-columns: repeat(2, 1fr);"><div class="cell" style="">    <div class="tag-plugin video" style="max-width:100%;">  <video controls preload>  <source src="https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov" type="video/mp4">Your browser does not support the video tag.  </video>  </div>      </div>    <div class="cell" style="">    <div class="tag-plugin video" style="max-width:100%;">  <video controls preload>  <source src="https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov" type="video/mp4">Your browser does not support the video tag.  </video>  </div>      </div>    </div><h2 id="文本修饰"><a href="#文本修饰" class="headerlink" title="文本修饰"></a>文本修饰</h2><ul><li>这是 <psw>密码</psw> 标签</li><li>这是 <u>下划线</u> 标签</li><li>这是 <emp>着重号</emp> 标签</li><li>这是 <wavy>波浪线</wavy> 标签</li><li>这是 <del>删除线</del> 标签</li><li>这是 <sup class="tag-plugin colorful sup" color="red">上角标</sup> 标签</li><li>这是 <sub class="tag-plugin colorful sub" >下角标</sub> 标签</li><li>这是 <kbd>键盘样式</kbd> 标签，试一试：<kbd>⌘</kbd> + <kbd>D</kbd></li></ul><h1 id="数据类标签"><a href="#数据类标签" class="headerlink" title="数据类标签"></a>数据类标签</h1><div class="tag-plugin link dis-select"><a class="link-card rich" title="" href="https://xaoxuu.com/wiki/stellar/tag-plugins/data/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon,desc"><div class="top"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div><span class="cap link footnote">https://xaoxuu.com/wiki/stellar/tag-plugins/data/</span></div><div class="bottom"><span class="title">https://xaoxuu.com/wiki/stellar/tag-plugins/data/</span><span class="cap desc footnote"></span></div></a></div><h1 id="容器类标签"><a href="#容器类标签" class="headerlink" title="容器类标签"></a>容器类标签</h1><div class="tag-plugin link dis-select"><a class="link-card rich" title="" href="https://xaoxuu.com/wiki/stellar/tag-plugins/container/" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="title,icon,desc"><div class="top"><div class="lazy img" data-bg="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg"></div><span class="cap link footnote">https://xaoxuu.com/wiki/stellar/tag-plugins/container/</span></div><div class="bottom"><span class="title">https://xaoxuu.com/wiki/stellar/tag-plugins/container/</span><span class="cap desc footnote"></span></div></a></div>]]></content>
    
    
    <summary type="html">test1</summary>
    
    
    
    <category term="test" scheme="https://malcode-site.github.io/categories/test/"/>
    
    
    <category term="test" scheme="https://malcode-site.github.io/tags/test/"/>
    
  </entry>
  
</feed>
